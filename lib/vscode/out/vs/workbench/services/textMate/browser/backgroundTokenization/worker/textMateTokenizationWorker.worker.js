"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var K=["require","exports","vs/base/common/lifecycle","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/base","vs/base/common/platform","vs/base/common/equals","vs/base/common/observableInternal/logging","vs/base/common/errors","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/derived","vs/base/common/uri","vs/editor/common/tokens/lineTokens","vs/editor/common/encodedTokenAttributes","vs/base/common/arrays","vs/base/common/event","vs/base/common/observable","vs/base/common/buffer","vs/base/common/charCode","vs/base/common/path","vs/base/common/strings","vs/base/common/network","vs/base/common/resources","vs/base/common/async","vs/editor/common/core/eolCounter","vs/editor/common/core/lineRange","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/languages/nullTokenize","vs/base/common/amd","vs/base/common/assert","vs/base/common/observableInternal/lazyObservableValue","vs/base/common/observableInternal/api","vs/base/common/observableInternal/promise","vs/base/common/cancellation","vs/base/common/observableInternal/utils","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/base/common/extpath","vs/amdX","vs/editor/common/model/fixedArray","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/base/common/stopwatch","vs/workbench/services/textMate/browser/tokenizationSupport/textMateTokenizationSupport","vs/workbench/services/textMate/browser/tokenizationSupport/tokenizationSupportWithLineLimit","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer","vs/workbench/services/textMate/common/TMScopeRegistry","vs/workbench/services/textMate/common/TMGrammarFactory","vs/base/common/types","vs/editor/common/core/position","vs/editor/common/core/offsetRange","vs/editor/common/model/mirrorTextModel","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker"],X=function(q){for(var e=[],S=0,b=q.length;S<b;S++)e[S]=K[q[S]];return e};define(K[28],X([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$W=e.LoaderEventType=e.$V=void 0,e.$V=!1;var S;(function(y){y[y.LoaderAvailable=1]="LoaderAvailable",y[y.BeginLoadingScript=10]="BeginLoadingScript",y[y.EndLoadingScriptOK=11]="EndLoadingScriptOK",y[y.EndLoadingScriptError=12]="EndLoadingScriptError",y[y.BeginInvokeFactory=21]="BeginInvokeFactory",y[y.EndInvokeFactory=22]="EndInvokeFactory",y[y.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",y[y.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",y[y.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",y[y.NodeEndNativeRequire=34]="NodeEndNativeRequire",y[y.CachedDataFound=60]="CachedDataFound",y[y.CachedDataMissed=61]="CachedDataMissed",y[y.CachedDataRejected=62]="CachedDataRejected",y[y.CachedDataCreated=63]="CachedDataCreated"})(S||(e.LoaderEventType=S={}));class b{static get(){const w=new Map,l=new Map,s=new Map,r=new Map;function d(n,t){n.has(t.detail)||n.set(t.detail,-t.timestamp)}function o(n,t){const i=n.get(t.detail);i&&(i>=0||n.set(t.detail,i+t.timestamp))}let c=[];typeof q=="function"&&typeof q.getStats=="function"&&(c=q.getStats().slice(0).sort((n,t)=>n.timestamp-t.timestamp));for(const n of c)switch(n.type){case S.BeginLoadingScript:d(w,n);break;case S.EndLoadingScriptOK:case S.EndLoadingScriptError:o(w,n);break;case S.BeginInvokeFactory:d(l,n);break;case S.EndInvokeFactory:o(l,n);break;case S.NodeBeginNativeRequire:d(s,n);break;case S.NodeEndNativeRequire:o(s,n);break;case S.NodeBeginEvaluatingScript:d(r,n);break;case S.NodeEndEvaluatingScript:o(r,n);break}let f=0;s.forEach(n=>f+=n);function $(n){const t=[];return n.forEach((i,a)=>t.push([a,i])),t}return{amdLoad:$(w),amdInvoke:$(l),nodeRequire:$(s),nodeEval:$(r),nodeRequireTotal:f}}static toMarkdownTable(w,l){let s="";const r=[];return w.forEach((d,o)=>{r[o]=d.length}),l.forEach(d=>{d.forEach((o,c)=>{typeof o>"u"&&(o=d[c]="-");const f=o.toString().length;r[c]=Math.max(f,r[c])})}),w.forEach((d,o)=>{s+=`| ${d+" ".repeat(r[o]-d.toString().length)} `}),s+=`|
`,w.forEach((d,o)=>{s+=`| ${"-".repeat(r[o])} `}),s+=`|
`,l.forEach(d=>{d.forEach((o,c)=>{typeof o<"u"&&(s+=`| ${o+" ".repeat(r[c]-o.toString().length)} `)}),s+=`|
`}),s}}e.$W=b});var le=this&&this.__createBinding||(Object.create?function(q,e,S,b){b===void 0&&(b=S);var y=Object.getOwnPropertyDescriptor(e,S);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[S]}}),Object.defineProperty(q,b,y)}:function(q,e,S,b){b===void 0&&(b=S),q[b]=e[S]}),fe=this&&this.__setModuleDefault||(Object.create?function(q,e){Object.defineProperty(q,"default",{enumerable:!0,value:e})}:function(q,e){q.default=e}),x=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var e={};if(q!=null)for(var S in q)S!=="default"&&Object.prototype.hasOwnProperty.call(q,S)&&le(e,q,S);return fe(e,q),e};define(K[6],X([0,1,14]),function(q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9c=void 0,e.$0c=y,e.$$c=w,e.$_c=l,e.$ad=s,e.$bd=r,e.$cd=d,S=x(S);const b=($,n)=>$===n;e.$9c=b;function y($=e.$9c){return(n,t)=>S.$xb(n,t,$)}function w(){return($,n)=>JSON.stringify($)===JSON.stringify(n)}function l(){return($,n)=>$.equals(n)}function s($,n,t){if(t!==void 0){const i=$;return i==null||n===void 0||n===null?n===i:t(i,n)}else{const i=$;return(a,g)=>a==null||g===void 0||g===null?g===a:i(a,g)}}function r($,n){if($===n)return!0;if(Array.isArray($)&&Array.isArray(n)){if($.length!==n.length)return!1;for(let t=0;t<$.length;t++)if(!r($[t],n[t]))return!1;return!0}if($&&typeof $=="object"&&n&&typeof n=="object"&&Object.getPrototypeOf($)===Object.prototype&&Object.getPrototypeOf(n)===Object.prototype){const t=$,i=n,a=Object.keys(t),g=Object.keys(i),C=new Set(g);if(a.length!==g.length)return!1;for(const I of a)if(!C.has(I)||!r(t[I],i[I]))return!1;return!0}return!1}function d($){return JSON.stringify(f($))}let o=0;const c=new WeakMap;function f($){if(Array.isArray($))return $.map(f);if($&&typeof $=="object")if(Object.getPrototypeOf($)===Object.prototype){const n=$,t=Object.create(null);for(const i of Object.keys(n).sort())t[i]=f(n[i]);return t}else{let n=c.get($);return n===void 0&&(n=o++,c.set($,n)),n+"----2b76a038c20c4bcc"}return $}}),define(K[3],X([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dd=void 0,e.$ed=w,e.$fd=f;class S{constructor(n,t,i){this.owner=n,this.debugNameSource=t,this.referenceFn=i}getDebugName(n){return w(n,this)}}e.$dd=S;const b=new Map,y=new WeakMap;function w($,n){const t=y.get($);if(t)return t;const i=l($,n);if(i){let a=b.get(i)??0;a++,b.set(i,a);const g=a===1?i:`${i}#${a}`;return y.set($,g),g}}function l($,n){const t=y.get($);if(t)return t;const i=n.owner?o(n.owner)+".":"";let a;const g=n.debugNameSource;if(g!==void 0)if(typeof g=="function"){if(a=g(),a!==void 0)return i+a}else return i+g;const C=n.referenceFn;if(C!==void 0&&(a=f(C),a!==void 0))return i+a;if(n.owner!==void 0){const I=s(n.owner,$);if(I!==void 0)return i+I}}function s($,n){for(const t in $)if($[t]===n)return t}const r=new Map,d=new WeakMap;function o($){const n=d.get($);if(n)return n;const t=c($);let i=r.get(t)??0;i++,r.set(t,i);const a=i===1?t:`${t}#${i}`;return d.set($,a),a}function c($){const n=$.constructor;return n?n.name:"Object"}function f($){const n=$.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(n);return(i?i[1]:void 0)?.trim()}}),define(K[7],X([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Od=void 0,e.$Md=b,e.$Nd=y;let S;function b(t){S=t}function y(){return S}class w{constructor(){this.a=0,this.d=new WeakMap}b(i){return l([s($("|  ",this.a)),i])}c(i){return i.hadValue?i.didChange?[s(" "),d(o(i.oldValue,70),{color:"red",strikeThrough:!0}),s(" "),d(o(i.newValue,60),{color:"green"})]:[s(" (unchanged)")]:[s(" "),d(o(i.newValue,60),{color:"green"}),s(" (initial)")]}handleObservableChanged(i,a){console.log(...this.b([r("observable value changed"),d(i.debugName,{color:"BlueViolet"}),...this.c(a)]))}formatChanges(i){if(i.size!==0)return d(" (changed deps: "+[...i].map(a=>a.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(i){const a=i.handleChange;this.d.set(i,new Set),i.handleChange=(g,C)=>(this.d.get(i).add(g),a.apply(i,[g,C]))}handleDerivedRecomputed(i,a){const g=this.d.get(i);console.log(...this.b([r("derived recomputed"),d(i.debugName,{color:"BlueViolet"}),...this.c(a),this.formatChanges(g),{data:[{fn:i._debugNameData.referenceFn??i._computeFn}]}])),g.clear()}handleFromEventObservableTriggered(i,a){console.log(...this.b([r("observable from event triggered"),d(i.debugName,{color:"BlueViolet"}),...this.c(a),{data:[{fn:i._getValue}]}]))}handleAutorunCreated(i){const a=i.handleChange;this.d.set(i,new Set),i.handleChange=(g,C)=>(this.d.get(i).add(g),a.apply(i,[g,C]))}handleAutorunTriggered(i){const a=this.d.get(i);console.log(...this.b([r("autorun"),d(i.debugName,{color:"BlueViolet"}),this.formatChanges(a),{data:[{fn:i._debugNameData.referenceFn??i._runFn}]}])),a.clear(),this.a++}handleAutorunFinished(i){this.a--}handleBeginTransaction(i){let a=i.getDebugName();a===void 0&&(a=""),console.log(...this.b([r("transaction"),d(a,{color:"BlueViolet"}),{data:[{fn:i._fn}]}])),this.a++}handleEndTransaction(){this.a--}}e.$Od=w;function l(t){const i=new Array,a=[];let g="";function C(E){if("length"in E)for(const N of E)N&&C(N);else"text"in E?(g+=`%c${E.text}`,i.push(E.style),E.data&&a.push(...E.data)):"data"in E&&a.push(...E.data)}C(t);const I=[g,...i];return I.push(...a),I}function s(t){return d(t,{color:"black"})}function r(t){return d(n(`${t}: `,10),{color:"black",bold:!0})}function d(t,i={color:"black"}){function a(C){return Object.entries(C).reduce((I,[E,N])=>`${I}${E}:${N};`,"")}const g={color:i.color};return i.strikeThrough&&(g["text-decoration"]="line-through"),i.bold&&(g["font-weight"]="bold"),{text:t,style:a(g)}}function o(t,i){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=i?`"${t}"`:`"${t.substr(0,i-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?c(t,i):f(t,i);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}function c(t,i){let a="[ ",g=!0;for(const C of t){if(g||(a+=", "),a.length-5>i){a+="...";break}g=!1,a+=`${o(C,i-a.length)}`}return a+=" ]",a}function f(t,i){let a="{ ",g=!0;for(const[C,I]of Object.entries(t)){if(g||(a+=", "),a.length-5>i){a+="...";break}g=!1,a+=`${C}: ${o(I,i-a.length)}`}return a+=" }",a}function $(t,i){let a="";for(let g=1;g<=i;g++)a+=t;return a}function n(t,i){for(;t.length<i;)t+=" ";return t}}),define(K[9],X([0,1,29,2,3,7]),function(q,e,S,b,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sd=void 0,e.$md=l,e.$nd=s,e.$od=r,e.$pd=d,e.$qd=o,e.$rd=c;function l(n){return new $(new y.$dd(void 0,void 0,n),n,void 0,void 0)}function s(n,t){return new $(new y.$dd(n.owner,n.debugName,n.debugReferenceFn??t),t,void 0,void 0)}function r(n,t){return new $(new y.$dd(n.owner,n.debugName,n.debugReferenceFn??t),t,n.createEmptyChangeSummary,n.handleChange)}function d(n,t){const i=new b.$Wc,a=r({owner:n.owner,debugName:n.debugName,debugReferenceFn:n.debugReferenceFn??t,createEmptyChangeSummary:n.createEmptyChangeSummary,handleChange:n.handleChange},(g,C)=>{i.clear(),t(g,C,i)});return(0,b.$Vc)(()=>{a.dispose(),i.dispose()})}function o(n){const t=new b.$Wc,i=s({owner:void 0,debugName:void 0,debugReferenceFn:n},a=>{t.clear(),n(a,t)});return(0,b.$Vc)(()=>{i.dispose(),t.dispose()})}function c(n,t){let i;return s({debugReferenceFn:t},a=>{const g=n.read(a),C=i;i=g,t({lastValue:C,newValue:g})})}var f;(function(n){n[n.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",n[n.stale=2]="stale",n[n.upToDate=3]="upToDate"})(f||(f={}));class ${get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(t,i,a,g){this._debugNameData=t,this._runFn=i,this.h=a,this.i=g,this.a=f.stale,this.b=0,this.c=!1,this.e=new Set,this.f=new Set,this.g=this.h?.(),(0,w.$Nd)()?.handleAutorunCreated(this),this.j(),(0,b.$Oc)(this)}dispose(){this.c=!0;for(const t of this.e)t.removeObserver(this);this.e.clear(),(0,b.$Pc)(this)}j(){if(this.a===f.upToDate)return;const t=this.f;this.f=this.e,this.e=t,this.a=f.upToDate;const i=this.c;try{if(!i){(0,w.$Nd)()?.handleAutorunTriggered(this);const a=this.g;this.g=this.h?.(),this._runFn(this,a)}}finally{i||(0,w.$Nd)()?.handleAutorunFinished(this);for(const a of this.f)a.removeObserver(this);this.f.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.a===f.upToDate&&(this.a=f.dependenciesMightHaveChanged),this.b++}endUpdate(){if(this.b===1)do{if(this.a===f.dependenciesMightHaveChanged){this.a=f.upToDate;for(const t of this.e)if(t.reportChanges(),this.a===f.stale)break}this.j()}while(this.a!==f.upToDate);this.b--,(0,S.$kd)(()=>this.b>=0)}handlePossibleChange(t){this.a===f.upToDate&&this.e.has(t)&&!this.f.has(t)&&(this.a=f.dependenciesMightHaveChanged)}handleChange(t,i){this.e.has(t)&&!this.f.has(t)&&(!this.i||this.i({changedObservable:t,change:i,didChange:g=>g===t},this.g))&&(this.a=f.stale)}readObservable(t){if(this.c)return t.get();t.addObserver(this);const i=t.get();return this.e.add(t),this.f.delete(t),i}}e.$sd=$,function(n){n.Observer=$}(l||(e.$md=l={}))}),define(K[4],X([0,1,6,3,7]),function(q,e,S,b,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$d=e.$9d=e.$7d=e.$2d=e.$1d=void 0,e.$Xd=l,e.$Yd=r,e.$Zd=o,e.$3d=$,e.$4d=t,e.$5d=i,e.$6d=a,e.$8d=C,e.$0d=E;let w;function l(h){w=h}let s;function r(h){s=h}let d;function o(h){d=h}class c{get TChange(){return null}reportChanges(){this.get()}read(m){return m?m.readObservable(this):this.get()}map(m,O){const B=O===void 0?void 0:m,H=O===void 0?m:O;return d({owner:B,debugName:()=>{const V=(0,b.$fd)(H);if(V!==void 0)return V;const L=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(H.toString());if(L)return`${this.debugName}.${L[2]}`;if(!B)return`${this.debugName} (mapped)`},debugReferenceFn:H},V=>H(this.read(V),V))}recomputeInitiallyAndOnChange(m,O){return m.add(w(this,O)),this}keepObserved(m){return m.add(s(this)),this}get a(){return this.get()}}e.$1d=c;class f extends c{constructor(){super(...arguments),this.b=new Set}addObserver(m){const O=this.b.size;this.b.add(m),O===0&&this.c()}removeObserver(m){this.b.delete(m)&&this.b.size===0&&this.f()}c(){}f(){}}e.$2d=f;function $(h,m){const O=new g(h,m);try{h(O)}finally{O.finish()}}let n;function t(h){if(n)h(n);else{const m=new g(h,void 0);n=m;try{h(m)}finally{m.finish(),n=void 0}}}async function i(h,m){const O=new g(h,m);try{await h(O)}finally{O.finish()}}function a(h,m,O){h?m(h):$(m,O)}class g{constructor(m,O){this._fn=m,this.b=O,this.a=[],(0,y.$Nd)()?.handleBeginTransaction(this)}getDebugName(){return this.b?this.b():(0,b.$fd)(this._fn)}updateObserver(m,O){this.a.push({observer:m,observable:O}),m.beginUpdate(O)}finish(){const m=this.a;for(let O=0;O<m.length;O++){const{observer:B,observable:H}=m[O];B.endUpdate(H)}this.a=null,(0,y.$Nd)()?.handleEndTransaction()}}e.$7d=g;function C(h,m){let O;return typeof h=="string"?O=new b.$dd(void 0,h,void 0):O=new b.$dd(h,void 0,void 0),new I(O,m,S.$9c)}class I extends f{get debugName(){return this.e.getDebugName(this)??"ObservableValue"}constructor(m,O,B){super(),this.e=m,this.g=B,this.d=O}get(){return this.d}set(m,O,B){if(B===void 0&&this.g(this.d,m))return;let H;O||(O=H=new g(()=>{},()=>`Setting ${this.debugName}`));try{const V=this.d;this.h(m),(0,y.$Nd)()?.handleObservableChanged(this,{oldValue:V,newValue:m,change:B,didChange:!0,hadValue:!0});for(const k of this.b)O.updateObserver(k,this),k.handleChange(this,B)}finally{H&&H.finish()}}toString(){return`${this.debugName}: ${this.d}`}h(m){this.d=m}}e.$9d=I;function E(h,m){let O;return typeof h=="string"?O=new b.$dd(void 0,h,void 0):O=new b.$dd(h,void 0,void 0),new N(O,m,S.$9c)}class N extends I{h(m){this.d!==m&&(this.d&&this.d.dispose(),this.d=m)}dispose(){this.d?.dispose()}}e.$$d=N}),define(K[10],X([0,1,29,6,2,4,3,7]),function(q,e,S,b,y,w,l,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Wd=e.$Vd=void 0,e.$Pd=r,e.$Qd=d,e.$Rd=o,e.$Sd=c,e.$Td=f,e.$Ud=$;function r(a,g){return g!==void 0?new t(new l.$dd(a,void 0,g),g,void 0,void 0,void 0,b.$9c):new t(new l.$dd(void 0,void 0,a),a,void 0,void 0,void 0,b.$9c)}function d(a,g,C){return new i(new l.$dd(a,void 0,g),g,void 0,void 0,void 0,b.$9c,C)}function o(a,g){return new t(new l.$dd(a.owner,a.debugName,a.debugReferenceFn),g,void 0,void 0,a.onLastObserverRemoved,a.equalsFn??b.$9c)}(0,w.$Zd)(o);function c(a,g){return new t(new l.$dd(a.owner,a.debugName,void 0),g,a.createEmptyChangeSummary,a.handleChange,void 0,a.equalityComparer??b.$9c)}function f(a,g){let C,I;g===void 0?(C=a,I=void 0):(I=a,C=g);const E=new y.$Wc;return new t(new l.$dd(I,void 0,C),N=>(E.clear(),C(N,E)),void 0,void 0,()=>E.dispose(),b.$9c)}function $(a,g){let C,I;g===void 0?(C=a,I=void 0):(I=a,C=g);let E;return new t(new l.$dd(I,void 0,C),N=>{E?E.clear():E=new y.$Wc;const h=C(N);return h&&E.add(h),h},void 0,void 0,()=>{E&&(E.dispose(),E=void 0)},b.$9c)}var n;(function(a){a[a.initial=0]="initial",a[a.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",a[a.stale=2]="stale",a[a.upToDate=3]="upToDate"})(n||(n={}));class t extends w.$2d{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(g,C,I,E,N=void 0,h){super(),this._debugNameData=g,this._computeFn=C,this.m=I,this.n=E,this.p=N,this.q=h,this.e=n.initial,this.g=void 0,this.h=0,this.j=new Set,this.k=new Set,this.l=void 0,this.l=this.m?.(),(0,s.$Nd)()?.handleDerivedCreated(this)}f(){this.e=n.initial,this.g=void 0;for(const g of this.j)g.removeObserver(this);this.j.clear(),this.p?.()}get(){if(this.b.size===0){const g=this._computeFn(this,this.m?.());return this.f(),g}else{do{if(this.e===n.dependenciesMightHaveChanged){for(const g of this.j)if(g.reportChanges(),this.e===n.stale)break}this.e===n.dependenciesMightHaveChanged&&(this.e=n.upToDate),this.t()}while(this.e!==n.upToDate);return this.g}}t(){if(this.e===n.upToDate)return;const g=this.k;this.k=this.j,this.j=g;const C=this.e!==n.initial,I=this.g;this.e=n.upToDate;const E=this.l;this.l=this.m?.();try{this.g=this._computeFn(this,E)}finally{for(const h of this.k)h.removeObserver(this);this.k.clear()}const N=C&&!this.q(I,this.g);if((0,s.$Nd)()?.handleDerivedRecomputed(this,{oldValue:I,newValue:this.g,change:void 0,didChange:N,hadValue:C}),N)for(const h of this.b)h.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(g){this.h++;const C=this.h===1;if(this.e===n.upToDate&&(this.e=n.dependenciesMightHaveChanged,!C))for(const I of this.b)I.handlePossibleChange(this);if(C)for(const I of this.b)I.beginUpdate(this)}endUpdate(g){if(this.h--,this.h===0){const C=[...this.b];for(const I of C)I.endUpdate(this)}(0,S.$kd)(()=>this.h>=0)}handlePossibleChange(g){if(this.e===n.upToDate&&this.j.has(g)&&!this.k.has(g)){this.e=n.dependenciesMightHaveChanged;for(const C of this.b)C.handlePossibleChange(this)}}handleChange(g,C){if(this.j.has(g)&&!this.k.has(g)){const I=this.n?this.n({changedObservable:g,change:C,didChange:N=>N===g},this.l):!0,E=this.e===n.upToDate;if(I&&(this.e===n.dependenciesMightHaveChanged||E)&&(this.e=n.stale,E))for(const N of this.b)N.handlePossibleChange(this)}}readObservable(g){g.addObserver(this);const C=g.get();return this.j.add(g),this.k.delete(g),C}addObserver(g){const C=!this.b.has(g)&&this.h>0;super.addObserver(g),C&&g.beginUpdate(this)}removeObserver(g){const C=this.b.has(g)&&this.h>0;super.removeObserver(g),C&&g.endUpdate(this)}}e.$Vd=t;class i extends t{constructor(g,C,I,E,N=void 0,h,m){super(g,C,I,E,N,h),this.set=m}}e.$Wd=i}),define(K[30],X([0,1,4]),function(q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fe=void 0;class b extends S.$2d{get debugName(){return this.h.getDebugName(this)??"LazyObservableValue"}constructor(w,l,s){super(),this.h=w,this.j=s,this.e=!0,this.g=[],this.l=0,this.d=l}get(){return this.k(),this.d}k(){if(!this.e)if(this.e=!0,this.g.length>0){for(const w of this.b)for(const l of this.g)w.handleChange(this,l);this.g.length=0}else for(const w of this.b)w.handleChange(this,void 0)}m(){if(this.l++,this.l===1)for(const w of this.b)w.beginUpdate(this)}n(){if(this.l--,this.l===0){this.k();const w=[...this.b];for(const l of w)l.endUpdate(this)}}addObserver(w){const l=!this.b.has(w)&&this.l>0;super.addObserver(w),l&&w.beginUpdate(this)}removeObserver(w){const l=this.b.has(w)&&this.l>0;super.removeObserver(w),l&&w.endUpdate(this)}set(w,l,s){if(s===void 0&&this.j(this.d,w))return;let r;l||(l=r=new S.$7d(()=>{},()=>`Setting ${this.debugName}`));try{if(this.e=!1,this.o(w),s!==void 0&&this.g.push(s),l.updateObserver({beginUpdate:()=>this.m(),endUpdate:()=>this.n(),handleChange:(d,o)=>{},handlePossibleChange:d=>{}},this),this.l>1)for(const d of this.b)d.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this.d}`}o(w){this.d=w}}e.$fe=b}),define(K[31],X([0,1,6,4,3,30]),function(q,e,S,b,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ge=l;function l(s,r){return s.lazy?new w.$fe(new y.$dd(s.owner,s.debugName,void 0),r,s.equalsFn??S.$9c):new b.$9d(new y.$dd(s.owner,s.debugName,void 0),r,s.equalsFn??S.$9c)}}),define(K[32],X([0,1,9,4,10,33,3,6,8]),function(q,e,S,b,y,w,l,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ce=e.$be=e.$ae=e.$_d=void 0,e.$de=$,e.$ee=n;class d{get cachedValue(){return this.a}constructor(i){this.b=i,this.a=(0,b.$8d)(this,void 0)}getValue(){let i=this.a.get();return i||(i=this.b(),this.a.set(i,void 0)),i}}e.$_d=d;class o{static fromFn(i){return new o(i())}constructor(i){this.a=(0,b.$8d)(this,void 0),this.promiseResult=this.a,this.promise=i.then(a=>((0,b.$3d)(g=>{this.a.set(new c(a,void 0),g)}),a),a=>{throw(0,b.$3d)(g=>{this.a.set(new c(void 0,a),g)}),a})}}e.$ae=o;class c{constructor(i,a){this.data=i,this.error=a}getDataOrThrow(){if(this.error)throw this.error;return this.data}}e.$be=c;class f{constructor(i){this.b=i,this.a=new d(()=>new o(this.b())),this.cachedPromiseResult=(0,y.$Pd)(this,a=>this.a.cachedValue.read(a)?.promiseResult.read(a))}getPromise(){return this.a.getValue().promise}}e.$ce=f;function $(t,i,a,g){return i||(i=C=>C!=null),new Promise((C,I)=>{let E=!0,N=!1;const h=t.map(O=>({isFinished:i(O),error:a?a(O):!1,state:O})),m=(0,S.$md)(O=>{const{isFinished:B,error:H,state:V}=h.read(O);(B||H)&&(E?N=!0:m.dispose(),H?I(H===!0?V:H):C(V))});if(g){const O=g.onCancellationRequested(()=>{m.dispose(),O.dispose(),I(new r.$8)});if(g.isCancellationRequested){m.dispose(),O.dispose(),I(new r.$8);return}}E=!1,N&&m.dispose()})}function n(t,i){let a,g;i===void 0?(a=t,g=void 0):(g=t,a=i);let C;return new y.$Vd(new l.$dd(g,void 0,a),I=>(C&&C.dispose(!0),C=new w.$ye,a(I,C.token)),void 0,void 0,()=>C?.dispose(),s.$9c)}}),define(K[34],X([0,1,15,2,9,4,3,10,7,8,6]),function(q,e,S,b,y,w,l,s,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Jd=e.$Fd=e.$xd=void 0,e.$td=c,e.$ud=$,e.$vd=n,e.$wd=t,e.$yd=a,e.$zd=C,e.$Ad=E,e.$Bd=N,e.$Cd=h,e.$Dd=m,e.$Ed=O,e.$Gd=H,e.$Hd=V,e.$Id=k,e.$Kd=v,e.$Ld=F;function c(M){return new f(M)}class f extends w.$1d{constructor(j){super(),this.b=j}get debugName(){return this.toString()}get(){return this.b}addObserver(j){}removeObserver(j){}toString(){return`Const: ${this.b}`}}function $(M){const j=(0,w.$8d)("promiseValue",{});return M.then(R=>{j.set({value:R},void 0)}),j}function n(...M){let j,R,U;return M.length===3?[j,R,U]=M:[R,U]=M,new i(new l.$dd(j,void 0,U),R,U,()=>i.globalTransaction,o.$9c)}function t(M,j,R){return new i(new l.$dd(M.owner,M.debugName,M.debugReferenceFn??R),j,R,()=>i.globalTransaction,M.equalsFn??o.$9c)}class i extends w.$2d{constructor(j,R,U,z,G){super(),this.j=j,this.k=R,this._getValue=U,this.l=z,this.n=G,this.g=!1,this.r=Z=>{const Q=this._getValue(Z),ee=this.e,re=!this.g||!this.n(ee,Q);let ae=!1;re&&(this.e=Q,this.g&&(ae=!0,(0,w.$6d)(this.l(),ne=>{(0,r.$Nd)()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:Q,change:void 0,didChange:re,hadValue:this.g});for(const oe of this.b)ne.updateObserver(oe,this),oe.handleChange(this,void 0)},()=>{const ne=this.p();return"Event fired"+(ne?`: ${ne}`:"")})),this.g=!0),ae||(0,r.$Nd)()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:Q,change:void 0,didChange:re,hadValue:this.g})}}p(){return this.j.getDebugName(this)}get debugName(){const j=this.p();return"From Event"+(j?`: ${j}`:"")}c(){this.h=this.k(this.r)}f(){this.h.dispose(),this.h=void 0,this.g=!1,this.e=void 0}get(){return this.h?(this.g||this.r(void 0),this.e):this._getValue(void 0)}}e.$xd=i,function(M){M.Observer=i;function j(R,U){let z=!1;i.globalTransaction===void 0&&(i.globalTransaction=R,z=!0);try{U()}finally{z&&(i.globalTransaction=void 0)}}M.batchEventsGlobally=j}(n||(e.$vd=n={}));function a(M,j){return new g(M,j)}class g extends w.$2d{constructor(j,R){super(),this.debugName=j,this.g=R,this.j=()=>{(0,w.$3d)(U=>{for(const z of this.b)U.updateObserver(z,this),z.handleChange(this,void 0)},()=>this.debugName)}}c(){this.e=this.g(this.j)}f(){this.e.dispose(),this.e=void 0}get(){}}function C(M){return typeof M=="string"?new I(M):new I(void 0,M)}class I extends w.$2d{get debugName(){return new l.$dd(this.g,this.e,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(j,R){super(),this.e=j,this.g=R}trigger(j,R){if(!j){(0,w.$3d)(U=>{this.trigger(U,R)},()=>`Trigger signal ${this.debugName}`);return}for(const U of this.b)j.updateObserver(U,this),U.handleChange(this,R)}get(){}}function E(M,j,R){const U=(0,w.$8d)("debounced",void 0);let z;return R.add((0,y.$md)(G=>{const Z=M.read(G);z&&clearTimeout(z),z=setTimeout(()=>{(0,w.$3d)(Q=>{U.set(Z,Q)})},j)})),U}function N(M,j){let R=!1,U,z;return n(G=>{const Z=(0,y.$md)(Q=>{const ee=M.read(Q);R?(z&&clearTimeout(z),z=setTimeout(()=>{U=ee,G()},j)):(R=!0,U=ee)});return{dispose(){Z.dispose(),R=!1,U=void 0}}},()=>R?U:M.get())}function h(M,j,R){const U=(0,w.$8d)("triggeredRecently",!1);let z;return R.add(M(()=>{U.set(!0,void 0),z&&clearTimeout(z),z=setTimeout(()=>{U.set(!1,void 0)},j)})),U}function m(M){const j=new B(!1,void 0);return M.addObserver(j),(0,b.$Vc)(()=>{M.removeObserver(j)})}(0,w.$Yd)(m);function O(M,j){const R=new B(!0,j);return M.addObserver(R),j?j(M.get()):M.reportChanges(),(0,b.$Vc)(()=>{M.removeObserver(R)})}(0,w.$Xd)(O);class B{constructor(j,R){this.b=j,this.c=R,this.a=0}beginUpdate(j){this.a++}endUpdate(j){this.a--,this.a===0&&this.b&&(this.c?this.c(j.get()):j.reportChanges())}handlePossibleChange(j){}handleChange(j,R){}}e.$Fd=B;function H(M,j){let R;return(0,s.$Rd)({owner:M,debugReferenceFn:j},z=>(R=j(z,R),R))}function V(M,j){let R;const U=C("derivedObservableWithWritableCache"),z=(0,s.$Pd)(M,G=>(U.read(G),R=j(G,R),R));return Object.assign(z,{clearCache:G=>{R=void 0,U.trigger(G)},setCache:(G,Z)=>{R=G,U.trigger(Z)}})}function k(M,j,R,U){let z=new L(R,U);return(0,s.$Rd)({debugReferenceFn:R,owner:M,onLastObserverRemoved:()=>{z.dispose(),z=new L(R)}},Z=>(z.setItems(j.read(Z)),z.getItems()))}class L{constructor(j,R){this.c=j,this.e=R,this.a=new Map,this.b=[]}dispose(){this.a.forEach(j=>j.store.dispose()),this.a.clear()}setItems(j){const R=[],U=new Set(this.a.keys());for(const z of j){const G=this.e?this.e(z):z;let Z=this.a.get(G);if(Z)U.delete(G);else{const Q=new b.$Wc;Z={out:this.c(z,Q),store:Q},this.a.set(G,Z)}R.push(Z.out)}for(const z of U)this.a.get(z).store.dispose(),this.a.delete(z);this.b=R}getItems(){return this.b}}class P{constructor(j){this.observable=j}get onDidChange(){return S.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.$Jd=P;function v(M,j){return j instanceof P?j.observable:n(M,j.onDidChange,()=>j.value)}function F(M,j){if(j.length===0)throw new d.$fb;let R=!1,U;const z=n(M,G=>{const Z=new b.$Wc;for(const Q of j)Z.add((0,y.$nd)({debugName:()=>(0,l.$ed)(z,new l.$dd(M,void 0,void 0))+".updateLastChangedValue"},ee=>{R=!0,U=Q.read(ee),G()}));return Z.add({dispose(){R=!1,U=void 0}}),Z},()=>R?U:j[j.length-1].get());return z}}),define(K[16],X([0,1,4,10,9,34,32,31,7]),function(q,e,S,b,y,w,l,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableValueOpts=e.derivedWithCancellationToken=e.waitForState=e.PromiseResult=e.ObservablePromise=e.ObservableLazyPromise=e.ObservableLazy=e.wasEventTriggeredRecently=e.observableSignalFromEvent=e.observableSignal=e.observableFromPromise=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.debouncedObservable=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorunDelta=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return S.$8d}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return S.$0d}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return S.$3d}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return S.$6d}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return b.$Pd}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return b.$Rd}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return b.$Sd}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return b.$Td}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.$md}}),Object.defineProperty(e,"autorunDelta",{enumerable:!0,get:function(){return y.$rd}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.$od}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.$qd}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.$nd}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return y.$pd}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return w.$td}}),Object.defineProperty(e,"debouncedObservable",{enumerable:!0,get:function(){return w.$Ad}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return w.$Gd}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return w.$Hd}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return w.$Dd}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return w.$Ed}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return w.$vd}}),Object.defineProperty(e,"observableFromPromise",{enumerable:!0,get:function(){return w.$ud}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return w.$zd}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return w.$yd}}),Object.defineProperty(e,"wasEventTriggeredRecently",{enumerable:!0,get:function(){return w.$Cd}}),Object.defineProperty(e,"ObservableLazy",{enumerable:!0,get:function(){return l.$_d}}),Object.defineProperty(e,"ObservableLazyPromise",{enumerable:!0,get:function(){return l.$ce}}),Object.defineProperty(e,"ObservablePromise",{enumerable:!0,get:function(){return l.$ae}}),Object.defineProperty(e,"PromiseResult",{enumerable:!0,get:function(){return l.$be}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return l.$de}}),Object.defineProperty(e,"derivedWithCancellationToken",{enumerable:!0,get:function(){return l.$ee}}),Object.defineProperty(e,"observableValueOpts",{enumerable:!0,get:function(){return s.$ge}}),!1&&(0,r.$Md)(new r.$Od)}),define(K[35],X([0,1,8,2]),function(q,e,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ae=y,e.$Be=w,e.$Ce=l,e.$De=s,e.$Ee=d,e.$Fe=o,e.$Ge=c,e.$He=f,e.$Ie=$,e.$Je=n,e.$Ke=t,e.$Le=i,e.$Me=a,e.$Ne=g,e.$Oe=C;function y(I){const E=I;return E?typeof E.read=="function":!1}function w(I){const E=I;return E?[E.on,E.pause,E.resume,E.destroy].every(N=>typeof N=="function"):!1}function l(I){const E=I;return E?w(E.stream)&&Array.isArray(E.buffer)&&typeof E.ended=="boolean":!1}function s(I,E){return new r(I,E)}class r{constructor(E,N){this.e=E,this.f=N,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(E){if(!this.a.destroyed){if(this.a.flowing)this.g(E);else if(this.b.data.push(E),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(N=>this.d.push(N))}}error(E){this.a.destroyed||(this.a.flowing?this.h(E):this.b.error.push(E))}end(E){this.a.destroyed||(typeof E<"u"&&this.write(E),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(E){this.c.data.slice(0).forEach(N=>N(E))}h(E){this.c.error.length===0?(0,S.$3)(E):this.c.error.slice(0).forEach(N=>N(E))}i(){this.c.end.slice(0).forEach(E=>E())}on(E,N){if(!this.a.destroyed)switch(E){case"data":this.c.data.push(N),this.resume();break;case"end":this.c.end.push(N),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(N),this.a.flowing&&this.k();break}}removeListener(E,N){if(this.a.destroyed)return;let h;switch(E){case"data":h=this.c.data;break;case"end":h=this.c.end;break;case"error":h=this.c.error;break}if(h){const m=h.indexOf(N);m>=0&&h.splice(m,1)}}j(){if(this.b.data.length>0){const E=this.e(this.b.data);this.g(E),this.b.data.length=0;const N=[...this.d];this.d.length=0,N.forEach(h=>h())}}k(){if(this.c.error.length>0){for(const E of this.b.error)this.h(E);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function d(I,E){const N=[];let h;for(;(h=I.read())!==null;)N.push(h);return E(N)}function o(I,E,N){const h=[];let m;for(;(m=I.read())!==null&&h.length<N;)h.push(m);return m===null&&h.length>0?E(h):{read:()=>{if(h.length>0)return h.shift();if(typeof m<"u"){const O=m;return m=void 0,O}return I.read()}}}function c(I,E){return new Promise((N,h)=>{const m=[];f(I,{onData:O=>{E&&m.push(O)},onError:O=>{E?h(O):N(void 0)},onEnd:()=>{N(E?E(m):void 0)}})})}function f(I,E,N){I.on("error",h=>{N?.isCancellationRequested||E.onError(h)}),I.on("end",()=>{N?.isCancellationRequested||E.onEnd()}),I.on("data",h=>{N?.isCancellationRequested||E.onData(h)})}function $(I,E){return new Promise((N,h)=>{const m=new b.$Wc,O=[],B=k=>{if(O.push(k),O.length>E)return m.dispose(),I.pause(),N({stream:I,buffer:O,ended:!1})},H=k=>(m.dispose(),h(k)),V=()=>(m.dispose(),N({stream:I,buffer:O,ended:!0}));m.add((0,b.$Vc)(()=>I.removeListener("error",H))),I.on("error",H),m.add((0,b.$Vc)(()=>I.removeListener("end",V))),I.on("end",V),m.add((0,b.$Vc)(()=>I.removeListener("data",B))),I.on("data",B)})}function n(I,E){const N=s(E);return N.end(I),N}function t(){const I=s(()=>{throw new Error("not supported")});return I.end(),I}function i(I){let E=!1;return{read:()=>E?null:(E=!0,I)}}function a(I,E,N){const h=s(N);return f(I,{onData:m=>h.write(E.data(m)),onError:m=>h.error(E.error?E.error(m):m),onEnd:()=>h.end()}),h}function g(I,E,N){let h=!1;return{read:()=>{const m=E.read();return h?m:(h=!0,m!==null?N([I,m]):I)}}}function C(I,E,N){let h=!1;const m=s(N);return f(E,{onData:O=>h?m.write(O):(h=!0,m.write(N([I,O]))),onError:O=>m.error(O),onEnd:()=>{h||(h=!0,m.write(I)),m.end()}}),m}}),define(K[17],X([0,1,36,35]),function(q,e,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pe=void 0,e.$Qe=d,e.$Re=o,e.$Se=c,e.$Te=f,e.$Ue=$,e.$Ve=n,e.$We=t,e.$Xe=i,e.$Ye=a,e.$Ze=g,e.$1e=C,e.$2e=I,e.$3e=E,e.$4e=N,e.$5e=h,e.$6e=m,e.$7e=O,e.$8e=B,e.$9e=H,e.$0e=L,b=x(b);const y=typeof Buffer<"u",w=new S.$X(()=>new Uint8Array(256));let l,s;class r{static alloc(v){return y?new r(Buffer.allocUnsafe(v)):new r(new Uint8Array(v))}static wrap(v){return y&&!Buffer.isBuffer(v)&&(v=Buffer.from(v.buffer,v.byteOffset,v.byteLength)),new r(v)}static fromString(v,F){return!(F?.dontUseNodeBuffer||!1)&&y?new r(Buffer.from(v)):(l||(l=new TextEncoder),new r(l.encode(v)))}static fromByteArray(v){const F=r.alloc(v.length);for(let M=0,j=v.length;M<j;M++)F.buffer[M]=v[M];return F}static concat(v,F){if(typeof F>"u"){F=0;for(let R=0,U=v.length;R<U;R++)F+=v[R].byteLength}const M=r.alloc(F);let j=0;for(let R=0,U=v.length;R<U;R++){const z=v[R];M.set(z,j),j+=z.byteLength}return M}constructor(v){this.buffer=v,this.byteLength=this.buffer.byteLength}clone(){const v=r.alloc(this.byteLength);return v.set(this),v}toString(){return y?this.buffer.toString():(s||(s=new TextDecoder),s.decode(this.buffer))}slice(v,F){return new r(this.buffer.subarray(v,F))}set(v,F){if(v instanceof r)this.buffer.set(v.buffer,F);else if(v instanceof Uint8Array)this.buffer.set(v,F);else if(v instanceof ArrayBuffer)this.buffer.set(new Uint8Array(v),F);else if(ArrayBuffer.isView(v))this.buffer.set(new Uint8Array(v.buffer,v.byteOffset,v.byteLength),F);else throw new Error("Unknown argument 'array'")}readUInt32BE(v){return f(this.buffer,v)}writeUInt32BE(v,F){$(this.buffer,v,F)}readUInt32LE(v){return n(this.buffer,v)}writeUInt32LE(v,F){t(this.buffer,v,F)}readUInt8(v){return i(this.buffer,v)}writeUInt8(v,F){a(this.buffer,v,F)}indexOf(v,F=0){return d(this.buffer,v instanceof r?v.buffer:v,F)}}e.$Pe=r;function d(P,v,F=0){const M=v.byteLength,j=P.byteLength;if(M===0)return 0;if(M===1)return P.indexOf(v[0]);if(M>j-F)return-1;const R=w.value;R.fill(v.length);for(let Z=0;Z<v.length;Z++)R[v[Z]]=v.length-Z-1;let U=F+v.length-1,z=U,G=-1;for(;U<j;)if(P[U]===v[z]){if(z===0){G=U;break}U--,z--}else U+=Math.max(v.length-z,R[P[U]]),z=v.length-1;return G}function o(P,v){return P[v+0]<<0>>>0|P[v+1]<<8>>>0}function c(P,v,F){P[F+0]=v&255,v=v>>>8,P[F+1]=v&255}function f(P,v){return P[v]*2**24+P[v+1]*2**16+P[v+2]*2**8+P[v+3]}function $(P,v,F){P[F+3]=v,v=v>>>8,P[F+2]=v,v=v>>>8,P[F+1]=v,v=v>>>8,P[F]=v}function n(P,v){return P[v+0]<<0>>>0|P[v+1]<<8>>>0|P[v+2]<<16>>>0|P[v+3]<<24>>>0}function t(P,v,F){P[F+0]=v&255,v=v>>>8,P[F+1]=v&255,v=v>>>8,P[F+2]=v&255,v=v>>>8,P[F+3]=v&255}function i(P,v){return P[v]}function a(P,v,F){P[F]=v}function g(P){return b.$Ee(P,v=>r.concat(v))}function C(P){return b.$Le(P)}function I(P){return b.$Ge(P,v=>r.concat(v))}async function E(P){return P.ended?r.concat(P.buffer):r.concat([...P.buffer,await I(P.stream)])}function N(P){return b.$Je(P,v=>r.concat(v))}function h(P){return b.$Me(P,{data:v=>typeof v=="string"?r.fromString(v):r.wrap(v)},v=>r.concat(v))}function m(P){return b.$De(v=>r.concat(v),P)}function O(P,v){return b.$Ne(P,v,F=>r.concat(F))}function B(P,v){return b.$Oe(P,v,F=>r.concat(F))}function H(P){let v=0,F=0,M=0;const j=new Uint8Array(Math.floor(P.length/4*3)),R=z=>{switch(F){case 3:j[M++]=v|z,F=0;break;case 2:j[M++]=v|z>>>2,v=z<<6,F=3;break;case 1:j[M++]=v|z>>>4,v=z<<4,F=2;break;default:v=z<<2,F=1}};for(let z=0;z<P.length;z++){const G=P.charCodeAt(z);if(G>=65&&G<=90)R(G-65);else if(G>=97&&G<=122)R(G-97+26);else if(G>=48&&G<=57)R(G-48+52);else if(G===43||G===45)R(62);else if(G===47||G===95)R(63);else{if(G===61)break;throw new SyntaxError(`Unexpected base64 character ${P[z]}`)}}const U=M;for(;F>0;)R(0);return r.wrap(j).slice(0,U)}const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function L({buffer:P},v=!0,F=!1){const M=F?k:V;let j="";const R=P.byteLength%3;let U=0;for(;U<P.byteLength-R;U+=3){const z=P[U+0],G=P[U+1],Z=P[U+2];j+=M[z>>>2],j+=M[(z<<4|G>>>4)&63],j+=M[(G<<2|Z>>>6)&63],j+=M[Z&63]}if(R===1){const z=P[U+0];j+=M[z>>>2],j+=M[z<<4&63],v&&(j+="==")}else if(R===2){const z=P[U+0],G=P[U+1];j+=M[z>>>2],j+=M[(z<<4|G>>>4)&63],j+=M[G<<2&63],v&&(j+="=")}return j}}),define(K[37],X([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ie=void 0,e.$ie=Symbol("MicrotaskDelay")}),define(K[38],X([0,1,18,19,5,20,51]),function(q,e,S,b,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yg=s,e.$zg=r,e.$Ag=d,e.$Bg=o,e.$Cg=c,e.$Dg=t,e.$Eg=i,e.$Fg=a,e.$Gg=g,e.$Hg=C,e.$Ig=I,e.$Jg=E,e.$Kg=N,e.$Lg=h,e.$Mg=m,e.$Ng=O,e.$Og=V;function s(k){return k===S.CharCode.Slash||k===S.CharCode.Backslash}function r(k){return k.replace(/[\\/]/g,b.$jc.sep)}function d(k){return k.indexOf("/")===-1&&(k=r(k)),/^[a-zA-Z]:(\/|$)/.test(k)&&(k="/"+k),k}function o(k,L=b.$jc.sep){if(!k)return"";const P=k.length,v=k.charCodeAt(0);if(s(v)){if(s(k.charCodeAt(1))&&!s(k.charCodeAt(2))){let M=3;const j=M;for(;M<P&&!s(k.charCodeAt(M));M++);if(j!==M&&!s(k.charCodeAt(M+1))){for(M+=1;M<P;M++)if(s(k.charCodeAt(M)))return k.slice(0,M+1).replace(/[\\/]/g,L)}}return L}else if(g(v)&&k.charCodeAt(1)===S.CharCode.Colon)return s(k.charCodeAt(2))?k.slice(0,2)+L:k.slice(0,2);let F=k.indexOf("://");if(F!==-1){for(F+=3;F<P;F++)if(s(k.charCodeAt(F)))return k.slice(0,F+1)}return""}function c(k){if(!y.$c||!k||k.length<5)return!1;let L=k.charCodeAt(0);if(L!==S.CharCode.Backslash||(L=k.charCodeAt(1),L!==S.CharCode.Backslash))return!1;let P=2;const v=P;for(;P<k.length&&(L=k.charCodeAt(P),L!==S.CharCode.Backslash);P++);return!(v===P||(L=k.charCodeAt(P+1),isNaN(L)||L===S.CharCode.Backslash))}const f=/[\\/:\*\?"<>\|]/g,$=/[/]/g,n=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function t(k,L=y.$c){const P=L?f:$;return!(!k||k.length===0||/^\s+$/.test(k)||(P.lastIndex=0,P.test(k))||L&&n.test(k)||k==="."||k===".."||L&&k[k.length-1]==="."||L&&k.length!==k.trim().length||k.length>255)}function i(k,L,P){const v=k===L;return!P||v?v:!k||!L?!1:(0,w.$Hf)(k,L)}function a(k,L,P,v=b.sep){if(k===L)return!0;if(!k||!L||L.length>k.length)return!1;if(P){if(!(0,w.$If)(k,L))return!1;if(L.length===k.length)return!0;let M=L.length;return L.charAt(L.length-1)===v&&M--,k.charAt(M)===v}return L.charAt(L.length-1)!==v&&(L+=v),k.indexOf(L)===0}function g(k){return k>=S.CharCode.A&&k<=S.CharCode.Z||k>=S.CharCode.a&&k<=S.CharCode.z}function C(k,L){return y.$c&&k.endsWith(":")&&(k+=b.sep),(0,b.$lc)(k)||(k=(0,b.$mc)(L,k)),k=(0,b.$kc)(k),I(k)}function I(k){return y.$c?(k=(0,w.$pf)(k,b.sep),k.endsWith(":")&&(k+=b.sep)):(k=(0,w.$pf)(k,b.sep),k||(k=b.sep)),k}function E(k){const L=(0,b.$kc)(k);return y.$c?k.length>3?!1:N(L)&&(k.length===2||L.charCodeAt(2)===S.CharCode.Backslash):L===b.$jc.sep}function N(k,L=y.$c){return L?g(k.charCodeAt(0))&&k.charCodeAt(1)===S.CharCode.Colon:!1}function h(k,L=y.$c){return N(k,L)?k[0]:void 0}function m(k,L,P){return L.length>k.length?-1:k===L?0:(P&&(k=k.toLowerCase(),L=L.toLowerCase()),k.indexOf(L))}function O(k){const L=k.split(":");let P,v,F;for(const M of L){const j=Number(M);(0,l.$kg)(j)?v===void 0?v=j:F===void 0&&(F=j):P=P?[P,M].join(":"):M}if(!P)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:P,line:v!==void 0?v:void 0,column:F!==void 0?F:v!==void 0?1:void 0}}const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",H="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function V(k,L,P=8){let v="";for(let M=0;M<P;M++){let j;M===0&&y.$c&&!L&&(P===3||P===4)?j=H:j=B,v+=j.charAt(Math.floor(Math.random()*j.length))}let F;return L?F=`${L}-${v}`:F=v,k?(0,b.$mc)(k,F):F}}),define(K[21],X([0,1,8,5,20,11,19]),function(q,e,S,b,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Tg=e.$Sg=e.$Rg=e.Schemas=void 0,e.$Pg=r,e.$Qg=d,e.$Ug=c,S=x(S),b=x(b),l=x(l);var s;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",n.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.commentsInput="comment",n.codeSetting="code-setting"})(s||(e.Schemas=s={}));function r(n,t){return w.URI.isUri(n)?(0,y.$Hf)(n.scheme,t):(0,y.$If)(n,t+":")}function d(n,...t){return t.some(i=>r(n,i))}e.$Rg="vscode-tkn",e.$Sg="tkn";class o{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(t){this.d=t}setDelegate(t){this.e=t}setServerRootPath(t,i){this.f=c(t,i)}getServerRootPath(){return this.f}get g(){return l.$jc.join(this.f,s.vscodeRemoteResource)}set(t,i,a){this.a[t]=i,this.b[t]=a}setConnectionToken(t,i){this.c[t]=i}getPreferredWebSchema(){return this.d}rewrite(t){if(this.e)try{return this.e(t)}catch(E){return S.$3(E),t}const i=t.authority;let a=this.a[i];a&&a.indexOf(":")!==-1&&a.indexOf("[")===-1&&(a=`[${a}]`);const g=this.b[i],C=this.c[i];let I=`path=${encodeURIComponent(t.path)}`;return typeof C=="string"&&(I+=`&${e.$Sg}=${encodeURIComponent(C)}`),w.URI.from({scheme:b.$i?this.d:s.vscodeRemoteResource,authority:`${a}:${g}`,path:b.$i?(window.location.pathname+"/"+this.g).replace(/\/\/+/g,"/"):this.g,query:I})}}e.$Tg=new o;function c(n,t){return l.$jc.join(t??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}e.$Vg="vs/../../extensions",e.$Wg="vs/../../node_modules",e.$Xg="vs/../../node_modules.asar",e.$Yg="vs/../../node_modules.asar.unpacked",e.$Zg="vscode-app";class f{asBrowserUri(t){const i=this.b(t,q);return this.uriToBrowserUri(i)}uriToBrowserUri(t){return t.scheme===s.vscodeRemote?e.$Tg.rewrite(t):t.scheme===s.file&&(b.$g||b.$k===`${s.vscodeFileResource}://${f.a}`)?t.with({scheme:s.vscodeFileResource,authority:t.authority||f.a,query:null,fragment:null}):t}asFileUri(t){const i=this.b(t,q);return this.uriToFileUri(i)}uriToFileUri(t){return t.scheme===s.vscodeFileResource?t.with({scheme:s.file,authority:t.authority!==f.a?t.authority:null,query:null,fragment:null}):t}b(t,i){return w.URI.isUri(t)?t:w.URI.parse(i.toUrl(t))}}f.a=e.$Zg,e.$1g=new f;var $;(function(n){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(t.get("3"));const i="vscode-coi";function a(C){let I;typeof C=="string"?I=new URL(C).searchParams:C instanceof URL?I=C.searchParams:w.URI.isUri(C)&&(I=new URL(C.toString(!0)).searchParams);const E=I?.get(i);if(E)return t.get(E)}n.getHeadersFromQuery=a;function g(C,I,E){if(!globalThis.crossOriginIsolated)return;const N=I&&E?"3":E?"2":"1";C instanceof URLSearchParams?C.set(i,N):C[i]=N}n.addSearchParam=g})($||(e.COI=$={}))}),define(K[39],X([0,1,28,21,5,11]),function(q,e,S,b,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$tE=o,y=x(y);class l{constructor(f,$,n){this.id=f,this.dependencies=$,this.callback=n}}class s{constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(f,$,n)=>{typeof f!="string"&&(n=$,$=f,f=null),(typeof $!="object"||!Array.isArray($))&&(n=$,$=null),this.c.push(new l(f,$,n))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(f){if(f.startsWith(window.location.origin)||f.startsWith("vscode-file://vscode-app"))return f;throw new Error(`[trusted_script_src] Invalid script url: ${f}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(f){return f}})))}async load(f){this.g();const $=await(this.a?this.i(f):this.b?this.h(f):this.j(f));if(!$)throw new Error(`Did not receive a define call from script ${f}`);if(Array.isArray($.dependencies)&&$.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${f}. The dependencies are: ${$.dependencies.join(", ")}`);return typeof $.callback=="function"?$.callback([]):$.callback}h(f){return new Promise(($,n)=>{const t=document.createElement("script");t.setAttribute("async","async"),t.setAttribute("type","text/javascript");const i=()=>{t.removeEventListener("load",a),t.removeEventListener("error",g)},a=C=>{i(),$(this.c.pop())},g=C=>{i(),n(C)};t.addEventListener("load",a),t.addEventListener("error",g),this.f&&(f=this.f.createScriptURL(f)),t.setAttribute("src",f),window.document.getElementsByTagName("head")[0].appendChild(t)})}i(f){return new Promise(($,n)=>{try{this.f&&(f=this.f.createScriptURL(f)),importScripts(f),$(this.c.pop())}catch(t){n(t)}})}async j(f){try{const $=globalThis._VSCODE_NODE_MODULES.fs,n=globalThis._VSCODE_NODE_MODULES.vm,t=globalThis._VSCODE_NODE_MODULES.module,i=w.URI.parse(f).fsPath,a=$.readFileSync(i).toString(),g=t.wrap(a.replace(/^#!.*/,""));return new n.Script(g).runInThisContext().apply(),this.c.pop()}catch($){throw $}}}s.INSTANCE=new s;const r=new Map;let d={};typeof globalThis.require=="object"&&(d=globalThis.require.paths??{});async function o(c,f,$){if(S.$V){$===void 0&&($=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),d[c]&&(c=d[c]);const n=`${c}/${f}`;if(r.has(n))return r.get(n);let t;if(/^\w[\w\d+.-]*:\/\//.test(n))t=n;else{const C=`${$&&!y.$i?b.$Xg:b.$Wg}/${n}`;t=b.$1g.asBrowserUri(C).toString(!0)}const i=s.INSTANCE.load(t);return r.set(n,i),i}else return await new Promise((n,t)=>{q([c],n,t)}).then(x)}}),define(K[22],X([0,1,18,38,21,19,5,20,11]),function(q,e,S,b,y,w,l,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$ph=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=void 0,e.$8g=d,e.$qh=c,e.$rh=$,b=x(b),w=x(w);function d(n){return(0,r.$zc)(n,!0)}class o{constructor(t){this.a=t}compare(t,i,a=!1){return t===i?0:(0,s.$Af)(this.getComparisonKey(t,a),this.getComparisonKey(i,a))}isEqual(t,i,a=!1){return t===i?!0:!t||!i?!1:this.getComparisonKey(t,a)===this.getComparisonKey(i,a)}getComparisonKey(t,i=!1){return t.with({path:this.a(t)?t.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}ignorePathCasing(t){return this.a(t)}isEqualOrParent(t,i,a=!1){if(t.scheme===i.scheme){if(t.scheme===y.Schemas.file)return b.$Fg(d(t),d(i),this.a(t))&&t.query===i.query&&(a||t.fragment===i.fragment);if((0,e.$mh)(t.authority,i.authority))return b.$Fg(t.path,i.path,this.a(t),"/")&&t.query===i.query&&(a||t.fragment===i.fragment)}return!1}joinPath(t,...i){return r.URI.joinPath(t,...i)}basenameOrAuthority(t){return(0,e.$eh)(t)||t.authority}basename(t){return w.$jc.basename(t.path)}extname(t){return w.$jc.extname(t.path)}dirname(t){if(t.path.length===0)return t;let i;return t.scheme===y.Schemas.file?i=r.URI.file(w.$pc(d(t))).path:(i=w.$jc.dirname(t.path),t.authority&&i.length&&i.charCodeAt(0)!==S.CharCode.Slash&&(console.error(`dirname("${t.toString})) resulted in a relative path`),i="/")),t.with({path:i})}normalizePath(t){if(!t.path.length)return t;let i;return t.scheme===y.Schemas.file?i=r.URI.file(w.$kc(d(t))).path:i=w.$jc.normalize(t.path),t.with({path:i})}relativePath(t,i){if(t.scheme!==i.scheme||!(0,e.$mh)(t.authority,i.authority))return;if(t.scheme===y.Schemas.file){const C=w.$oc(d(t),d(i));return l.$c?b.$zg(C):C}let a=t.path||"/";const g=i.path||"/";if(this.a(t)){let C=0;for(const I=Math.min(a.length,g.length);C<I&&!(a.charCodeAt(C)!==g.charCodeAt(C)&&a.charAt(C).toLowerCase()!==g.charAt(C).toLowerCase());C++);a=g.substr(0,C)+a.substr(C)}return w.$jc.relative(a,g)}resolvePath(t,i){if(t.scheme===y.Schemas.file){const a=r.URI.file(w.$nc(d(t),i));return t.with({authority:a.authority,path:a.path})}return i=b.$Ag(i),t.with({path:w.$jc.resolve(t.path,i)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,i){return t===i||t!==void 0&&i!==void 0&&(0,s.$Hf)(t,i)}hasTrailingPathSeparator(t,i=w.sep){if(t.scheme===y.Schemas.file){const a=d(t);return a.length>b.$Bg(a).length&&a[a.length-1]===i}else{const a=t.path;return a.length>1&&a.charCodeAt(a.length-1)===S.CharCode.Slash&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,i=w.sep){return(0,e.$nh)(t,i)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,i=w.sep){let a=!1;if(t.scheme===y.Schemas.file){const g=d(t);a=g!==void 0&&g.length===b.$Bg(g).length&&g[g.length-1]===i}else{i="/";const g=t.path;a=g.length===1&&g.charCodeAt(g.length-1)===S.CharCode.Slash}return!a&&!(0,e.$nh)(t,i)?t.with({path:t.path+"/"}):t}}e.$9g=o,e.$0g=new o(()=>!1),e.$$g=new o(n=>n.scheme===y.Schemas.file?!l.$e:!0),e.$_g=new o(n=>!0),e.$ah=e.$0g.isEqual.bind(e.$0g),e.$bh=e.$0g.isEqualOrParent.bind(e.$0g),e.$ch=e.$0g.getComparisonKey.bind(e.$0g),e.$dh=e.$0g.basenameOrAuthority.bind(e.$0g),e.$eh=e.$0g.basename.bind(e.$0g),e.$fh=e.$0g.extname.bind(e.$0g),e.$gh=e.$0g.dirname.bind(e.$0g),e.$hh=e.$0g.joinPath.bind(e.$0g),e.$ih=e.$0g.normalizePath.bind(e.$0g),e.$jh=e.$0g.relativePath.bind(e.$0g),e.$kh=e.$0g.resolvePath.bind(e.$0g),e.$lh=e.$0g.isAbsolutePath.bind(e.$0g),e.$mh=e.$0g.isEqualAuthority.bind(e.$0g),e.$nh=e.$0g.hasTrailingPathSeparator.bind(e.$0g),e.$oh=e.$0g.removeTrailingPathSeparator.bind(e.$0g),e.$ph=e.$0g.addTrailingPathSeparator.bind(e.$0g);function c(n,t){const i=[];for(let a=0;a<n.length;a++){const g=t(n[a]);n.some((C,I)=>I===a?!1:(0,e.$bh)(g,t(C)))||i.push(n[a])}return i}var f;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function t(i){const a=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(I=>{const[E,N]=I.split(":");E&&N&&a.set(E,N)});const C=i.path.substring(0,i.path.indexOf(";"));return C&&a.set(n.META_DATA_MIME,C),a}n.parseMetaData=t})(f||(e.DataUri=f={}));function $(n,t,i){if(t){let a=n.path;return a&&a[0]!==w.$jc.sep&&(a=w.$jc.sep+a),n.with({scheme:i,authority:t,path:a})}return n.with({scheme:i})}}),define(K[23],X([0,1,33,8,15,2,22,5,37,36]),function(q,e,S,b,y,w,l,s,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0h=e.$8h=e.$7h=e.$6h=e.$5h=e.Promises=e.$4h=e.$3h=e.$2h=e.$Zh=e.$Yh=e.$Xh=e.$Wh=e.$Vh=e.$Uh=e.$Th=e.$Sh=e.$Rh=e.$Qh=e.$Ph=e.$Oh=e.$Nh=e.$Mh=e.$Gh=e.$Fh=e.$Eh=e.$Dh=e.$Ch=e.$Bh=e.$Ah=void 0,e.$sh=o,e.$th=c,e.$uh=f,e.$vh=$,e.$wh=n,e.$xh=t,e.$yh=i,e.$zh=a,e.$Hh=H,e.$Ih=V,e.$Jh=k,e.$Kh=L,e.$Lh=P,e.$1h=ae,e.$9h=$e;function o(A){return!!A&&typeof A.then=="function"}function c(A){const u=new S.$ye,T=A(u.token),D=new Promise((p,W)=>{const Y=u.token.onCancellationRequested(()=>{Y.dispose(),W(new b.$8)});Promise.resolve(T).then(_=>{Y.dispose(),u.dispose(),p(_)},_=>{Y.dispose(),u.dispose(),W(_)})});return new class{cancel(){u.cancel(),u.dispose()}then(p,W){return D.then(p,W)}catch(p){return this.then(void 0,p)}finally(p){return D.finally(p)}}}function f(A,u,T){return new Promise((D,p)=>{const W=u.onCancellationRequested(()=>{W.dispose(),D(T)});A.then(D,p).finally(()=>W.dispose())})}function $(A,u){return new Promise((T,D)=>{const p=u.onCancellationRequested(()=>{p.dispose(),D(new b.$8)});A.then(T,D).finally(()=>p.dispose())})}async function n(A){let u=-1;const T=A.map((D,p)=>D.then(W=>(u=p,W)));try{return await Promise.race(T)}finally{A.forEach((D,p)=>{p!==u&&D.cancel()})}}function t(A,u,T){let D;const p=setTimeout(()=>{D?.(void 0),T?.()},u);return Promise.race([A.finally(()=>clearTimeout(p)),new Promise(W=>D=W)])}function i(A){return new Promise((u,T)=>{const D=A();o(D)?D.then(u,T):u(D)})}function a(){let A,u;return{promise:new Promise((D,p)=>{A=D,u=p}),resolve:A,reject:u}}class g{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(u){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=u,!this.b){const T=()=>{if(this.b=null,this.f)return;const D=this.queue(this.d);return this.d=null,D};this.b=new Promise(D=>{this.a.then(T,T).then(D)})}return new Promise((T,D)=>{this.b.then(T,D)})}return this.a=u(),new Promise((T,D)=>{this.a.then(p=>{this.a=null,T(p)},p=>{this.a=null,D(p)})})}dispose(){this.f=!0}}e.$Ah=g;class C{constructor(){this.a=Promise.resolve(null)}queue(u){return this.a=this.a.then(()=>u(),()=>u())}}e.$Bh=C;class I{constructor(){this.a=new Map}queue(u,T){const p=(this.a.get(u)??Promise.resolve()).catch(()=>{}).then(T).finally(()=>{this.a.get(u)===p&&this.a.delete(u)});return this.a.set(u,p),p}}e.$Ch=I;const E=(A,u)=>{let T=!0;const D=setTimeout(()=>{T=!1,u()},A);return{isTriggered:()=>T,dispose:()=>{clearTimeout(D),T=!1}}},N=A=>{let u=!0;return queueMicrotask(()=>{u&&(u=!1,A())}),{isTriggered:()=>u,dispose:()=>{u=!1}}};class h{constructor(u){this.defaultDelay=u,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(u,T=this.defaultDelay){this.g=u,this.h(),this.b||(this.b=new Promise((p,W)=>{this.d=p,this.f=W}).then(()=>{if(this.b=null,this.d=null,this.g){const p=this.g;return this.g=null,p()}}));const D=()=>{this.a=null,this.d?.(null)};return this.a=T===r.$ie?N(D):E(T,D),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new b.$8),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$Dh=h;class m{constructor(u){this.a=new h(u),this.b=new g}trigger(u,T){return this.a.trigger(()=>this.b.queue(u),T)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$Eh=m;class O{constructor(){this.a=!1,this.b=new Promise((u,T)=>{this.d=u})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$Fh=O;class B extends O{constructor(u){super(),this.f=setTimeout(()=>this.open(),u)}open(){clearTimeout(this.f),super.open()}}e.$Gh=B;function H(A,u){return u?new Promise((T,D)=>{const p=setTimeout(()=>{W.dispose(),T()},A),W=u.onCancellationRequested(()=>{clearTimeout(p),W.dispose(),D(new b.$8)})}):c(T=>H(A,T))}function V(A,u=0,T){const D=setTimeout(()=>{A(),T&&p.dispose()},u),p=(0,w.$Vc)(()=>{clearTimeout(D),T?.deleteAndLeak(p)});return T?.add(p),p}function k(A){const u=[];let T=0;const D=A.length;function p(){return T<D?A[T++]():null}function W(Y){Y!=null&&u.push(Y);const _=p();return _?_.then(W):Promise.resolve(u)}return Promise.resolve(null).then(W)}function L(A,u=D=>!!D,T=null){let D=0;const p=A.length,W=()=>{if(D>=p)return Promise.resolve(T);const Y=A[D++];return Promise.resolve(Y()).then(se=>u(se)?Promise.resolve(se):W())};return W()}function P(A,u=D=>!!D,T=null){if(A.length===0)return Promise.resolve(T);let D=A.length;const p=()=>{D=-1;for(const W of A)W.cancel?.()};return new Promise((W,Y)=>{for(const _ of A)_.then(se=>{--D>=0&&u(se)?(p(),W(se)):D===0&&W(T)}).catch(se=>{--D>=0&&(p(),Y(se))})})}class v{constructor(u){this.a=0,this.b=!1,this.f=u,this.g=[],this.d=0,this.h=new y.$ne}whenIdle(){return this.size>0?y.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(u){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((T,D)=>{this.g.push({factory:u,c:T,e:D}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const u=this.g.shift();this.d++;const T=u.factory();T.then(u.c,u.e),T.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$Mh=v;class F extends v{constructor(){super(1)}}e.$Nh=F;class M{constructor(){this.a=new ne,this.b=0}queue(u){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,u())):this.a.run(this.b++,u())}}e.$Oh=M;class j{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const u=new he;return this.b.add(u),u.p}g(){for(const[,u]of this.a)if(u.size>0)return!1;return!0}queueSize(u,T=l.$0g){const D=T.getComparisonKey(u);return this.a.get(D)?.size??0}queueFor(u,T,D=l.$0g){const p=D.getComparisonKey(u);let W=this.a.get(p);if(!W){W=new F;const Y=this.f++,_=y.Event.once(W.onDrained)(()=>{W?.dispose(),this.a.delete(p),this.h(),this.d?.deleteAndDispose(Y),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new w.$7c),this.d.set(Y,_),this.a.set(p,W)}return W.queue(T)}h(){this.g()&&this.j()}j(){for(const u of this.b)u.complete();this.b.clear()}dispose(){for(const[,u]of this.a)u.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$Ph=j;class R{constructor(u,T){this.b=!1,this.a=-1,typeof u=="function"&&typeof T=="number"&&this.setIfNotSet(u,T)}dispose(){this.cancel(),this.b=!0}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(u,T){if(this.b)throw new b.$fb("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this.a=setTimeout(()=>{this.a=-1,u()},T)}setIfNotSet(u,T){if(this.b)throw new b.$fb("Calling 'setIfNotSet' on a disposed TimeoutTimer");this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,u()},T))}}e.$Qh=R;class U{constructor(){this.d=void 0,this.f=!1}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(u,T,D=globalThis){if(this.f)throw new b.$fb("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const p=D.setInterval(()=>{u()},T);this.d=(0,w.$Vc)(()=>{D.clearInterval(p),this.d=void 0})}dispose(){this.cancel(),this.f=!0}}e.$Rh=U;class z{constructor(u,T){this.b=-1,this.a=u,this.d=T,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(u=this.d){this.cancel(),this.b=setTimeout(this.f,u)}get delay(){return this.d}set delay(u){this.d=u}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Sh=z;class G{constructor(u,T){T%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${T}ms is not a multiple of 1000ms.`),this.a=u,this.b=T,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(u=this.b){u%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${u}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(u/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Th=G;class Z extends z{constructor(u,T){super(u,T),this.j=[]}work(u){this.j.push(u),this.isScheduled()||this.schedule()}h(){const u=this.j;this.j=[],this.a?.(u)}dispose(){this.j=[],super.dispose()}}e.$Uh=Z;class Q extends w.$Xc{constructor(u,T){super(),this.g=u,this.h=T,this.a=[],this.b=this.B(new w.$Yc),this.f=!1}get pending(){return this.a.length}work(u){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+u.length>this.g.maxBufferedWork)return!1}else if(this.pending+u.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const T of u)this.a.push(T);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new z(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Vh=Q,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$Xh=(A,u)=>{(0,s.$v)(()=>{if(T)return;const D=Date.now()+15;u(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,D-Date.now())}}))});let T=!1;return{dispose(){T||(T=!0)}}}:e.$Xh=(A,u,T)=>{const D=A.requestIdleCallback(u,typeof T=="number"?{timeout:T}:void 0);let p=!1;return{dispose(){p||(p=!0,A.cancelIdleCallback(D))}}},e.$Wh=A=>(0,e.$Xh)(globalThis,A)}();class ee{constructor(u,T){this.g=!1,this.d=()=>{try{this.j=T()}catch(D){this.l=D}finally{this.g=!0}},this.f=(0,e.$Xh)(u,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Yh=ee;class re extends ee{constructor(u){super(globalThis,u)}}e.$Zh=re;async function ae(A,u,T){let D;for(let p=0;p<T;p++)try{return await A()}catch(W){D=W,await H(u)}throw D}class ne{isRunning(u){return typeof u=="number"?this.a?.taskId===u:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(u,T,D){return this.a={taskId:u,cancel:()=>D?.(),promise:T},T.then(()=>this.d(u),()=>this.d(u)),T}d(u){this.a&&u===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const u=this.b;this.b=void 0,u.run().then(u.promiseResolve,u.promiseReject)}}queue(u){if(this.b)this.b.run=u;else{const{promise:T,resolve:D,reject:p}=a();this.b={run:u,promise:T,promiseResolve:D,promiseReject:p}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$2h=ne;class oe{constructor(u,T=()=>Date.now()){this.d=u,this.f=T,this.a=0,this.b=0}increment(){const u=this.f();return u-this.a>this.d&&(this.a=u,this.b=0),this.b++,this.b}}e.$3h=oe;var ie;(function(A){A[A.Resolved=0]="Resolved",A[A.Rejected=1]="Rejected"})(ie||(ie={}));class he{get isRejected(){return this.d?.outcome===ie.Rejected}get isResolved(){return this.d?.outcome===ie.Resolved}get isSettled(){return!!this.d}get value(){return this.d?.outcome===ie.Resolved?this.d?.value:void 0}constructor(){this.p=new Promise((u,T)=>{this.a=u,this.b=T})}complete(u){return new Promise(T=>{this.a(u),this.d={outcome:ie.Resolved,value:u},T()})}error(u){return new Promise(T=>{this.b(u),this.d={outcome:ie.Rejected,value:u},T()})}cancel(){return this.error(new b.$8)}}e.$4h=he;var ue;(function(A){async function u(D){let p;const W=await Promise.all(D.map(Y=>Y.then(_=>_,_=>{p||(p=_)})));if(typeof p<"u")throw p;return W}A.settled=u;function T(D){return new Promise(async(p,W)=>{try{await D(p,W)}catch(Y){W(Y)}})}A.withAsyncBody=T})(ue||(e.Promises=ue={}));class ce{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(u){this.a=void 0,this.b=void 0,this.d=!1,this.promise=u.then(T=>(this.a=T,this.d=!0,T),T=>{throw this.b=T,this.d=!0,T})}requireValue(){if(!this.d)throw new b.$fb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$5h=ce;class ge{constructor(u){this.b=u,this.a=new d.$X(()=>new ce(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$6h=ge;var te;(function(A){A[A.Initial=0]="Initial",A[A.DoneOK=1]="DoneOK",A[A.DoneError=2]="DoneError"})(te||(te={}));class J{static fromArray(u){return new J(T=>{T.emitMany(u)})}static fromPromise(u){return new J(async T=>{T.emitMany(await u)})}static fromPromises(u){return new J(async T=>{await Promise.all(u.map(async D=>T.emitOne(await D)))})}static merge(u){return new J(async T=>{await Promise.all(u.map(async D=>{for await(const p of D)T.emitOne(p)}))})}constructor(u,T){this.a=te.Initial,this.b=[],this.d=null,this.f=T,this.g=new y.$ne,queueMicrotask(async()=>{const D={emitOne:p=>this.h(p),emitMany:p=>this.j(p),reject:p=>this.l(p)};try{await Promise.resolve(u(D)),this.k()}catch(p){this.l(p)}finally{D.emitOne=void 0,D.emitMany=void 0,D.reject=void 0}})}[Symbol.asyncIterator](){let u=0;return{next:async()=>{do{if(this.a===te.DoneError)throw this.d;if(u<this.b.length)return{done:!1,value:this.b[u++]};if(this.a===te.DoneOK)return{done:!0,value:void 0};await y.Event.toPromise(this.g.event)}while(!0)},return:async()=>(this.f?.(),{done:!0,value:void 0})}}static map(u,T){return new J(async D=>{for await(const p of u)D.emitOne(T(p))})}map(u){return J.map(this,u)}static filter(u,T){return new J(async D=>{for await(const p of u)T(p)&&D.emitOne(p)})}filter(u){return J.filter(this,u)}static coalesce(u){return J.filter(u,T=>!!T)}coalesce(){return J.coalesce(this)}static async toPromise(u){const T=[];for await(const D of u)T.push(D);return T}toPromise(){return J.toPromise(this)}h(u){this.a===te.Initial&&(this.b.push(u),this.g.fire())}j(u){this.a===te.Initial&&(this.b=this.b.concat(u),this.g.fire())}k(){this.a===te.Initial&&(this.a=te.DoneOK,this.g.fire())}l(u){this.a===te.Initial&&(this.a=te.DoneError,this.d=u,this.g.fire())}}e.$7h=J,J.EMPTY=J.fromArray([]);class de extends J{constructor(u,T){super(T),this.m=u}cancel(){this.m.cancel()}}e.$8h=de;function $e(A){const u=new S.$ye,T=A(u.token);return new de(u,async D=>{const p=u.token.onCancellationRequested(()=>{p.dispose(),u.dispose(),D.reject(new b.$8)});try{for await(const W of T){if(u.token.isCancellationRequested)return;D.emitOne(W)}p.dispose(),u.dispose()}catch(W){p.dispose(),u.dispose(),D.reject(W)}})}class be{constructor(u){this.a=new he,this.b=new J(p=>{if(T){p.reject(T);return}return D&&p.emitMany(D),this.d=W=>p.reject(W),this.f=W=>p.emitOne(W),this.a.p},u);let T,D;this.f=p=>{D||(D=[]),D.push(p)},this.d=p=>{T||(T=p)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(u){this.d(u),this.a.complete()}emitOne(u){this.f(u)}}e.$0h=be}),define(K[24],X([0,1,18]),function(q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$xu=y;var b;(function(w){w[w.Unknown=0]="Unknown",w[w.Invalid=3]="Invalid",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF"})(b||(e.StringEOL=b={}));function y(w){let l=0,s=0,r=0,d=b.Unknown;for(let o=0,c=w.length;o<c;o++){const f=w.charCodeAt(o);f===S.CharCode.CarriageReturn?(l===0&&(s=o),l++,o+1<c&&w.charCodeAt(o+1)===S.CharCode.LineFeed?(d|=b.CRLF,o++):d|=b.Invalid,r=o+1):f===S.CharCode.LineFeed&&(d|=b.LF,l===0&&(s=o),l++,r=o+1)}return l===0&&(s=w.length),[l,s,w.length-r,d]}}),define(K[40],X([0,1,14]),function(q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rD=void 0;class b{constructor(l){this.b=l,this.a=[]}get(l){return l<this.a.length?this.a[l]:this.b}set(l,s){for(;l>=this.a.length;)this.a[this.a.length]=this.b;this.a[l]=s}replace(l,s,r){if(l>=this.a.length)return;if(s===0){this.insert(l,r);return}else if(r===0){this.delete(l,s);return}const d=this.a.slice(0,l),o=this.a.slice(l+s),c=y(r,this.b);this.a=d.concat(c,o)}delete(l,s){s===0||l>=this.a.length||this.a.splice(l,s)}insert(l,s){if(s===0||l>=this.a.length)return;const r=[];for(let d=0;d<s;d++)r[d]=this.b;this.a=(0,S.$Yb)(this.a,l,r)}}e.$rD=b;function y(w,l){const s=[];for(let r=0;r<w;r++)s[r]=l;return s}}),define(K[12],X([0,1,13]),function(q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yu=void 0,e.$zu=w;class b{static createEmpty(s,r){const d=b.defaultTokenMetadata,o=new Uint32Array(2);return o[0]=s.length,o[1]=d,new b(o,s,r)}static createFromTextAndMetadata(s,r){let d=0,o="";const c=new Array;for(const{text:f,metadata:$}of s)c.push(d+f.length,$),d+=f.length,o+=f;return new b(new Uint32Array(c),o,r)}constructor(s,r,d){this._lineTokensBrand=void 0,this.a=s,this.b=this.a.length>>>1,this.c=r,this.languageIdCodec=d}equals(s){return s instanceof b?this.slicedEquals(s,0,this.b):!1}slicedEquals(s,r,d){if(this.c!==s.c||this.b!==s.b)return!1;const o=r<<1,c=o+(d<<1);for(let f=o;f<c;f++)if(this.a[f]!==s.a[f])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(s){return s>0?this.a[s-1<<1]:0}getMetadata(s){return this.a[(s<<1)+1]}getLanguageId(s){const r=this.a[(s<<1)+1],d=S.$tu.getLanguageId(r);return this.languageIdCodec.decodeLanguageId(d)}getStandardTokenType(s){const r=this.a[(s<<1)+1];return S.$tu.getTokenType(r)}getForeground(s){const r=this.a[(s<<1)+1];return S.$tu.getForeground(r)}getClassName(s){const r=this.a[(s<<1)+1];return S.$tu.getClassNameFromMetadata(r)}getInlineStyle(s,r){const d=this.a[(s<<1)+1];return S.$tu.getInlineStyleFromMetadata(d,r)}getPresentation(s){const r=this.a[(s<<1)+1];return S.$tu.getPresentationFromMetadata(r)}getEndOffset(s){return this.a[s<<1]}findTokenIndexAtOffset(s){return b.findIndexInTokensArray(this.a,s)}inflate(){return this}sliceAndInflate(s,r,d){return new y(this,s,r,d)}static convertToEndOffset(s,r){const o=(s.length>>>1)-1;for(let c=0;c<o;c++)s[c<<1]=s[c+1<<1];s[o<<1]=r}static findIndexInTokensArray(s,r){if(s.length<=2)return 0;let d=0,o=(s.length>>>1)-1;for(;d<o;){const c=d+Math.floor((o-d)/2),f=s[c<<1];if(f===r)return c+1;f<r?d=c+1:f>r&&(o=c)}return d}withInserted(s){if(s.length===0)return this;let r=0,d=0,o="";const c=new Array;let f=0;for(;;){const $=r<this.b?this.a[r<<1]:-1,n=d<s.length?s[d]:null;if($!==-1&&(n===null||$<=n.offset)){o+=this.c.substring(f,$);const t=this.a[(r<<1)+1];c.push(o.length,t),r++,f=$}else if(n){if(n.offset>f){o+=this.c.substring(f,n.offset);const t=this.a[(r<<1)+1];c.push(o.length,t),f=n.offset}o+=n.text,c.push(o.length,n.tokenMetadata),d++}else break}return new b(new Uint32Array(c),o,this.languageIdCodec)}getTokenText(s){const r=this.getStartOffset(s),d=this.getEndOffset(s);return this.c.substring(r,d)}forEach(s){const r=this.getCount();for(let d=0;d<r;d++)s(d)}}e.$yu=b,b.defaultTokenMetadata=(S.FontStyle.None<<S.MetadataConsts.FONT_STYLE_OFFSET|S.ColorId.DefaultForeground<<S.MetadataConsts.FOREGROUND_OFFSET|S.ColorId.DefaultBackground<<S.MetadataConsts.BACKGROUND_OFFSET)>>>0;class y{constructor(s,r,d,o){this.a=s,this.b=r,this.c=d,this.d=o,this.e=s.findTokenIndexAtOffset(r),this.languageIdCodec=s.languageIdCodec,this.f=0;for(let c=this.e,f=s.getCount();c<f&&!(s.getStartOffset(c)>=d);c++)this.f++}getMetadata(s){return this.a.getMetadata(this.e+s)}getLanguageId(s){return this.a.getLanguageId(this.e+s)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(s){return s instanceof y?this.b===s.b&&this.c===s.c&&this.d===s.d&&this.a.slicedEquals(s.a,this.e,this.f):!1}getCount(){return this.f}getStandardTokenType(s){return this.a.getStandardTokenType(this.e+s)}getForeground(s){return this.a.getForeground(this.e+s)}getEndOffset(s){const r=this.a.getEndOffset(this.e+s);return Math.min(this.c,r)-this.b+this.d}getClassName(s){return this.a.getClassName(this.e+s)}getInlineStyle(s,r){return this.a.getInlineStyle(this.e+s,r)}getPresentation(s){return this.a.getPresentation(this.e+s)}findTokenIndexAtOffset(s){return this.a.findTokenIndexAtOffset(s+this.b-this.d)-this.e}getTokenText(s){const r=this.e+s,d=this.a.getStartOffset(r),o=this.a.getEndOffset(r);let c=this.a.getTokenText(r);return d<this.b&&(c=c.substring(this.b-d)),o>this.c&&(c=c.substring(0,c.length-(o-this.c))),c}forEach(s){for(let r=0;r<this.getCount();r++)s(r)}}function w(l,s){const r=s.lineNumber;if(!l.tokenization.isCheapToTokenize(r))return;l.tokenization.forceTokenization(r);const d=l.tokenization.getLineTokens(r),o=d.findTokenIndexAtOffset(s.column-1);return d.getStandardTokenType(o)}}),define(K[41],X([0,1,12]),function(q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bu=e.$Au=void 0,e.$Cu=y,e.$Au=new Uint32Array(0).buffer;class b{static deleteBeginning(l,s){return l===null||l===e.$Au?l:b.delete(l,0,s)}static deleteEnding(l,s){if(l===null||l===e.$Au)return l;const r=y(l),d=r[r.length-2];return b.delete(l,s,d)}static delete(l,s,r){if(l===null||l===e.$Au||s===r)return l;const d=y(l),o=d.length>>>1;if(s===0&&d[d.length-2]===r)return e.$Au;const c=S.$yu.findIndexInTokensArray(d,s),f=c>0?d[c-1<<1]:0,$=d[c<<1];if(r<$){const g=r-s;for(let C=c;C<o;C++)d[C<<1]-=g;return l}let n,t;f!==s?(d[c<<1]=s,n=c+1<<1,t=s):(n=c<<1,t=f);const i=r-s;for(let g=c+1;g<o;g++){const C=d[g<<1]-i;C>t&&(d[n++]=C,d[n++]=d[(g<<1)+1],t=C)}if(n===d.length)return l;const a=new Uint32Array(n);return a.set(d.subarray(0,n),0),a.buffer}static append(l,s){if(s===e.$Au)return l;if(l===e.$Au)return s;if(l===null)return l;if(s===null)return null;const r=y(l),d=y(s),o=d.length>>>1,c=new Uint32Array(r.length+d.length);c.set(r,0);let f=r.length;const $=r[r.length-2];for(let n=0;n<o;n++)c[f++]=d[n<<1]+$,c[f++]=d[(n<<1)+1];return c.buffer}static insert(l,s,r){if(l===null||l===e.$Au)return l;const d=y(l),o=d.length>>>1;let c=S.$yu.findIndexInTokensArray(d,s);c>0&&d[c-1<<1]===s&&c--;for(let f=c;f<o;f++)d[f<<1]+=r;return l}}e.$Bu=b;function y(w){return w instanceof Uint32Array?w:new Uint32Array(w)}}),define(K[42],X([0,1,14,17,52,24,41,25]),function(q,e,S,b,y,w,l,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Du=void 0,S=x(S);class r{static deserialize(o,c,f){const $=new Uint32Array(o.buffer),n=(0,b.$Te)(o,c);c+=4;const t=(0,b.$Te)(o,c);c+=4;const i=[];for(let a=0;a<t;a++){const g=(0,b.$Te)(o,c);c+=4,i.push($.subarray(c/4,c/4+g/4)),c+=g}return f.push(new r(n,i)),c}get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor(o,c){this.a=o,this.b=c}getLineRange(){return new s.$Wt(this.a,this.a+this.b.length)}getLineTokens(o){return this.b[o-this.a]}appendLineTokens(o){this.b.push(o)}serializeSize(){let o=0;o+=4,o+=4;for(let c=0;c<this.b.length;c++){const f=this.b[c];if(!(f instanceof Uint32Array))throw new Error("Not supported!");o+=4,o+=f.byteLength}return o}serialize(o,c){(0,b.$Ue)(o,this.a,c),c+=4,(0,b.$Ue)(o,this.b.length,c),c+=4;for(let f=0;f<this.b.length;f++){const $=this.b[f];if(!($ instanceof Uint32Array))throw new Error("Not supported!");(0,b.$Ue)(o,$.byteLength,c),c+=4,o.set(new Uint8Array($.buffer),c),c+=$.byteLength}return c}applyEdit(o,c){const[f,$]=(0,w.$xu)(c);this.c(o),this.d(new y.$Mt(o.startLineNumber,o.startColumn),f,$)}c(o){if(o.startLineNumber===o.endLineNumber&&o.startColumn===o.endColumn)return;const c=o.startLineNumber-this.a,f=o.endLineNumber-this.a;if(f<0){const $=f-c;this.a-=$;return}if(!(c>=this.b.length)){if(c<0&&f>=this.b.length){this.a=0,this.b=[];return}if(c===f){this.b[c]=l.$Bu.delete(this.b[c],o.startColumn-1,o.endColumn-1);return}if(c>=0)if(this.b[c]=l.$Bu.deleteEnding(this.b[c],o.startColumn-1),f<this.b.length){const $=l.$Bu.deleteBeginning(this.b[f],o.endColumn-1);this.b[c]=l.$Bu.append(this.b[c],$),this.b.splice(c+1,f-c)}else this.b[c]=l.$Bu.append(this.b[c],null),this.b=this.b.slice(0,c+1);else{const $=-c;this.a-=$,this.b[f]=l.$Bu.deleteBeginning(this.b[f],o.endColumn-1),this.b=this.b.slice(f)}}}d(o,c,f){if(c===0&&f===0)return;const $=o.lineNumber-this.a;if($<0){this.a+=c;return}if(!($>=this.b.length)){if(c===0){this.b[$]=l.$Bu.insert(this.b[$],o.column-1,f);return}this.b[$]=l.$Bu.deleteEnding(this.b[$],o.column-1),this.b[$]=l.$Bu.insert(this.b[$],o.column-1,f),this.e(o.lineNumber,c)}}e(o,c){if(c===0)return;const f=[];for(let $=0;$<c;$++)f[$]=null;this.b=S.$Yb(this.b,o,f)}}e.$Du=r}),define(K[26],X([0,1,17,42]),function(q,e,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sD=void 0;class y{static deserialize(l){let s=0;const r=(0,S.$Te)(l,s);s+=4;const d=[];for(let o=0;o<r;o++)s=b.$Du.deserialize(l,s,d);return d}constructor(){this.a=[]}add(l,s){if(this.a.length>0){const r=this.a[this.a.length-1];if(r.endLineNumber+1===l){r.appendLineTokens(s);return}}this.a.push(new b.$Du(l,[s]))}finalize(){return this.a}serialize(){const l=this.b(),s=new Uint8Array(l);return this.c(s),s}b(){let l=0;l+=4;for(let s=0;s<this.a.length;s++)l+=this.a[s].serializeSize();return l}c(l){let s=0;(0,S.$Ue)(l,this.a.length,s),s+=4;for(let r=0;r<this.a.length;r++)s=this.a[r].serialize(l,s)}}e.$sD=y}),define(K[27],X([0,1,43,13]),function(q,e,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oD=void 0,e.$pD=y,e.$qD=w,e.$oD=new class{clone(){return this}equals(l){return this===l}};function y(l,s){return new S.$Gu([new S.$Fu(0,"",l)],s)}function w(l,s){const r=new Uint32Array(2);return r[0]=0,r[1]=(l<<b.MetadataConsts.LANGUAGEID_OFFSET|b.StandardTokenType.Other<<b.MetadataConsts.TOKEN_TYPE_OFFSET|b.FontStyle.None<<b.MetadataConsts.FONT_STYLE_OFFSET|b.ColorId.DefaultForeground<<b.MetadataConsts.FOREGROUND_OFFSET|b.ColorId.DefaultBackground<<b.MetadataConsts.BACKGROUND_OFFSET)>>>0,new S.$Hu(r,s===null?e.$oD:s)}}),define(K[44],X([0,1,23,8,5,45,24,25,53,13,27,40,26,12]),function(q,e,S,b,y,w,l,s,r,d,o,c,f,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yD=e.$xD=e.$wD=e.$vD=e.$uD=e.$tD=void 0;var n;(function(N){N[N.CHEAP_TOKENIZATION_LENGTH_LIMIT=2048]="CHEAP_TOKENIZATION_LENGTH_LIMIT"})(n||(n={}));class t{constructor(h,m){this.tokenizationSupport=m,this.a=this.tokenizationSupport.getInitialState(),this.store=new a(h)}getStartState(h){return this.store.getStartState(h,this.a)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.a)}}e.$tD=t;class i extends t{constructor(h,m,O,B){super(h,m),this._textModel=O,this._languageIdCodec=B}updateTokensUntilLine(h,m){const O=this._textModel.getLanguageId();for(;;){const B=this.getFirstInvalidLine();if(!B||B.lineNumber>m)break;const H=this._textModel.getLineContent(B.lineNumber),V=I(this._languageIdCodec,O,this.tokenizationSupport,H,!0,B.startState);h.add(B.lineNumber,V.tokens),this.store.setEndState(B.lineNumber,V.endState)}}getTokenTypeIfInsertingCharacter(h,m){const O=this.getStartState(h.lineNumber);if(!O)return d.StandardTokenType.Other;const B=this._textModel.getLanguageId(),H=this._textModel.getLineContent(h.lineNumber),V=H.substring(0,h.column-1)+m+H.substring(h.column-1),k=I(this._languageIdCodec,B,this.tokenizationSupport,V,!0,O),L=new $.$yu(k.tokens,V,this._languageIdCodec);if(L.getCount()===0)return d.StandardTokenType.Other;const P=L.findTokenIndexAtOffset(h.column-1);return L.getStandardTokenType(P)}tokenizeLineWithEdit(h,m,O){const B=h.lineNumber,H=h.column,V=this.getStartState(B);if(!V)return null;const k=this._textModel.getLineContent(B),L=k.substring(0,H-1)+O+k.substring(H-1+m),P=this._textModel.getLanguageIdAtPosition(B,0),v=I(this._languageIdCodec,P,this.tokenizationSupport,L,!0,V);return new $.$yu(v.tokens,L,this._languageIdCodec)}hasAccurateTokensForLine(h){const m=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<m}isCheapToTokenize(h){const m=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<m||h===m&&this._textModel.getLineLength(h)<n.CHEAP_TOKENIZATION_LENGTH_LIMIT}tokenizeHeuristically(h,m,O){if(O<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(m<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(h,O),{heuristicTokens:!1};let B=this.b(m);const H=this._textModel.getLanguageId();for(let V=m;V<=O;V++){const k=this._textModel.getLineContent(V),L=I(this._languageIdCodec,H,this.tokenizationSupport,k,!0,B);h.add(V,L.tokens),B=L.endState}return{heuristicTokens:!0}}b(h){let m=this._textModel.getLineFirstNonWhitespaceColumn(h);const O=[];let B=null;for(let k=h-1;m>1&&k>=1;k--){const L=this._textModel.getLineFirstNonWhitespaceColumn(k);if(L!==0&&L<m&&(O.push(this._textModel.getLineContent(k)),m=L,B=this.getStartState(k),B))break}B||(B=this.tokenizationSupport.getInitialState()),O.reverse();const H=this._textModel.getLanguageId();let V=B;for(const k of O)V=I(this._languageIdCodec,H,this.tokenizationSupport,k,!1,V).endState;return V}}e.$uD=i;class a{constructor(h){this.d=h,this.a=new g,this.b=new C,this.b.addRange(new r.$Ut(1,h+1))}getEndState(h){return this.a.getEndState(h)}setEndState(h,m){if(!m)throw new b.$fb("Cannot set null/undefined state");this.b.delete(h);const O=this.a.setEndState(h,m);return O&&h<this.d&&this.b.addRange(new r.$Ut(h+1,h+2)),O}acceptChange(h,m){this.d+=m-h.length,this.a.acceptChange(h,m),this.b.addRangeAndResize(new r.$Ut(h.startLineNumber,h.endLineNumberExclusive),m)}acceptChanges(h){for(const m of h){const[O]=(0,l.$xu)(m.text);this.acceptChange(new s.$Wt(m.range.startLineNumber,m.range.endLineNumber+1),O+1)}}invalidateEndStateRange(h){this.b.addRange(new r.$Ut(h.startLineNumber,h.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this.b.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this.b.min===null}getStartState(h,m){return h===1?m:this.getEndState(h-1)}getFirstInvalidLine(h){const m=this.getFirstInvalidEndStateLineNumber();if(m===null)return null;const O=this.getStartState(m,h);if(!O)throw new b.$fb("Start state must be defined");return{lineNumber:m,startState:O}}}e.$vD=a;class g{constructor(){this.a=new c.$rD(null)}getEndState(h){return this.a.get(h)}setEndState(h,m){const O=this.a.get(h);return O&&O.equals(m)?!1:(this.a.set(h,m),!0)}acceptChange(h,m){let O=h.length;m>0&&O>0&&(O--,m--),this.a.replace(h.startLineNumber,O,m)}acceptChanges(h){for(const m of h){const[O]=(0,l.$xu)(m.text);this.acceptChange(new s.$Wt(m.range.startLineNumber,m.range.endLineNumber+1),O+1)}}}e.$wD=g;class C{constructor(){this.a=[]}getRanges(){return this.a}get min(){return this.a.length===0?null:this.a[0].start}removeMin(){if(this.a.length===0)return null;const h=this.a[0];return h.start+1===h.endExclusive?this.a.shift():this.a[0]=new r.$Ut(h.start+1,h.endExclusive),h.start}delete(h){const m=this.a.findIndex(O=>O.contains(h));if(m!==-1){const O=this.a[m];O.start===h?O.endExclusive===h+1?this.a.splice(m,1):this.a[m]=new r.$Ut(h+1,O.endExclusive):O.endExclusive===h+1?this.a[m]=new r.$Ut(O.start,h):this.a.splice(m,1,new r.$Ut(O.start,h),new r.$Ut(h+1,O.endExclusive))}}addRange(h){r.$Ut.addRange(h,this.a)}addRangeAndResize(h,m){let O=0;for(;!(O>=this.a.length||h.start<=this.a[O].endExclusive);)O++;let B=O;for(;!(B>=this.a.length||h.endExclusive<this.a[B].start);)B++;const H=m-h.length;for(let V=B;V<this.a.length;V++)this.a[V]=this.a[V].delta(H);if(O===B){const V=new r.$Ut(h.start,h.start+m);V.isEmpty||this.a.splice(O,0,V)}else{const V=Math.min(h.start,this.a[O].start),k=Math.max(h.endExclusive,this.a[B-1].endExclusive),L=new r.$Ut(V,k+H);L.isEmpty?this.a.splice(O,B-O):this.a.splice(O,B-O,L)}}toString(){return this.a.map(h=>h.toString()).join(" + ")}}e.$xD=C;function I(N,h,m,O,B,H){let V=null;if(m)try{V=m.tokenizeEncoded(O,B,H.clone())}catch(k){(0,b.$3)(k)}return V||(V=(0,o.$qD)(N.encodeLanguageId(h),H)),$.$yu.convertToEndOffset(V.tokens,O.length),V}class E{constructor(h,m){this.b=h,this.d=m,this.a=!1,this.f=!1}dispose(){this.a=!0}handleChanges(){this.g()}g(){this.f||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.f=!0,(0,S.$Wh)(h=>{this.f=!1,this.h(h)}))}h(h){const m=Date.now()+h.timeRemaining(),O=()=>{this.a||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.j(),Date.now()<m?(0,y.$v)(O):this.g())};O()}j(){const h=this.b._textModel.getLineCount(),m=new f.$sD,O=w.$he.create(!1);do if(O.elapsed()>1||this.l(m)>=h)break;while(this.k());this.d.setTokens(m.finalize()),this.checkFinished()}k(){return this.b?!this.b.store.allStatesValid():!1}l(h){const m=this.b?.getFirstInvalidLine();return m?(this.b.updateTokensUntilLine(h,m.lineNumber),m.lineNumber):this.b._textModel.getLineCount()+1}checkFinished(){this.a||this.b.store.allStatesValid()&&this.d.backgroundTokenizationFinished()}requestTokens(h,m){this.b.store.invalidateEndStateRange(new s.$Wt(h,m))}}e.$yD=E}),define(K[46],X([0,1,15,2,45,13,43]),function(q,e,S,b,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xOb=void 0;class s extends b.$Xc{constructor(d,o,c,f,$,n,t){super(),this.c=d,this.f=o,this.g=c,this.h=f,this.j=$,this.m=n,this.n=t,this.a=[],this.b=this.B(new S.$ne),this.onDidEncounterLanguage=this.b.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this.j()}getInitialState(){return this.f}tokenize(d,o,c){throw new Error("Not supported!")}createBackgroundTokenizer(d,o){if(this.h)return this.h(d,o)}tokenizeEncoded(d,o,c){const f=Math.random()*1e4<1,$=this.n||f,n=$?new y.$he(!0):void 0,t=this.c.tokenizeLine2(d,c,500);if($){const a=n.elapsed();(f||a>32)&&this.m(a,d.length,f)}if(t.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${d.substring(0,100)}`),new l.$Hu(t.tokens,c);if(this.g){const a=this.a,g=t.tokens;for(let C=0,I=g.length>>>1;C<I;C++){const E=g[(C<<1)+1],N=w.$tu.getLanguageId(E);a[N]||(a[N]=!0,this.b.fire(N))}}let i;return c.equals(t.ruleStack)?i=c:i=t.ruleStack,new l.$Hu(t.tokens,i)}}e.$xOb=s}),define(K[47],X([0,1,27,2,16]),function(q,e,S,b,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yOb=void 0;class w extends b.$Xc{get backgroundTokenizerShouldOnlyVerifyTokens(){return this.b.backgroundTokenizerShouldOnlyVerifyTokens}constructor(s,r,d,o){super(),this.a=s,this.b=r,this.c=o,this.B((0,y.keepObserved)(this.c)),this.B(d)}getInitialState(){return this.b.getInitialState()}tokenize(s,r,d){throw new Error("Not supported!")}tokenizeEncoded(s,r,d){return s.length>=this.c.get()?(0,S.$qD)(this.a,d):this.b.tokenizeEncoded(s,r,d)}createBackgroundTokenizer(s,r){if(this.b.createBackgroundTokenizer)return this.b.createBackgroundTokenizer(s,r)}}e.$yOb=w}),define(K[48],X([0,1,39,23,16,5,25,54,44,26,12,46,47,2]),function(q,e,S,b,y,w,l,s,r,d,o,c,f,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$DOb=void 0;class n extends s.$nw{constructor(a,g,C,I,E,N,h,m){super(a,g,C,I),this.s=E,this.t=N,this.u=h,this.a=null,this.b=!1,this.c=(0,y.observableValue)(this,-1),this.q=new b.$Sh(()=>this.w(),10),this.c.set(m,void 0),this.v()}dispose(){this.b=!0,super.dispose()}onLanguageId(a,g){this.t=a,this.u=g,this.v()}onEvents(a){super.onEvents(a),this.a?.store.acceptChanges(a.changes),this.q.schedule()}acceptMaxTokenizationLineLength(a){this.c.set(a,void 0)}retokenize(a,g){this.a&&(this.a.store.invalidateEndStateRange(new l.$Wt(a,g)),this.q.schedule())}async v(){this.a=null;const a=this.t,g=this.u,C=await this.s.getOrCreateGrammar(a,g);if(!(this.b||a!==this.t||g!==this.u||!C)){if(C.grammar){const I=new f.$yOb(this.u,new c.$xOb(C.grammar,C.initialState,!1,void 0,()=>!1,(E,N,h)=>{this.s.reportTokenizationTime(E,a,C.sourceExtensionId,N,h)},!1),$.$Xc.None,this.c);this.a=new r.$tD(this.f.length,I)}else this.a=null;this.w()}}async w(){if(this.b||!this.a)return;if(!this.m){const{diffStateStacksRefEq:g}=await(0,S.$tE)("vscode-textmate","release/main.js");this.m=g}const a=new Date().getTime();for(;;){let g=0;const C=new d.$sD,I=new t;for(;;){const h=this.a.getFirstInvalidLine();if(h===null||g>200)break;g++;const m=this.f[h.lineNumber-1],O=this.a.tokenizationSupport.tokenizeEncoded(m,!0,h.startState);if(this.a.store.setEndState(h.lineNumber,O.endState)){const H=this.m(h.startState,O.endState);I.setState(h.lineNumber,H)}else I.setState(h.lineNumber,null);if(o.$yu.convertToEndOffset(O.tokens,m.length),C.add(h.lineNumber,O.tokens),new Date().getTime()-a>20)break}if(g===0)break;const E=I.getStateDeltas();if(this.s.setTokensAndStates(this.h,C.serialize(),E),new Date().getTime()-a>20){(0,w.$v)(()=>this.w());return}}}}e.$DOb=n;class t{constructor(){this.a=-1,this.b=[]}setState(a,g){a===this.a+1?this.b[this.b.length-1].stateDeltas.push(g):this.b.push({startLineNumber:a,stateDeltas:[g]}),this.a=a}getStateDeltas(){return this.b}}}),define(K[49],X([0,1,22]),function(q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$AOb=void 0,S=x(S);class b{constructor(){this.a=Object.create(null)}reset(){this.a=Object.create(null)}register(w){if(this.a[w.scopeName]){const l=this.a[w.scopeName];S.$ah(l.location,w.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${w.scopeName}.
Old grammar file: ${l.location.toString()}.
New grammar file: ${w.location.toString()}`)}this.a[w.scopeName]=w}getGrammarDefinition(w){return this.a[w]||null}}e.$AOb=b}),define(K[50],X([0,1,2,49]),function(q,e,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$COb=e.$BOb=void 0,e.$BOb="No TM Grammar registered for this language.";class y extends S.$Xc{constructor(l,s,r,d){super(),this.a=l,this.b=r.INITIAL,this.c=new b.$AOb,this.f={},this.g={},this.h=new Map,this.j=this.B(new r.Registry({onigLib:d,loadGrammar:async o=>{const c=this.c.getGrammarDefinition(o);if(!c)return this.a.logTrace(`No grammar found for scope ${o}`),null;const f=c.location;try{const $=await this.a.readFile(f);return r.parseRawGrammar($,f.path)}catch($){return this.a.logError(`Unable to load and parse grammar for scope ${o} from ${f}`,$),null}},getInjections:o=>{const c=o.split(".");let f=[];for(let $=1;$<=c.length;$++){const n=c.slice(0,$).join(".");f=[...f,...this.f[n]||[]]}return f}}));for(const o of s){if(this.c.register(o),o.injectTo){for(const c of o.injectTo){let f=this.f[c];f||(this.f[c]=f=[]),f.push(o.scopeName)}if(o.embeddedLanguages)for(const c of o.injectTo){let f=this.g[c];f||(this.g[c]=f=[]),f.push(o.embeddedLanguages)}}o.language&&this.h.set(o.language,o.scopeName)}}has(l){return this.h.has(l)}setTheme(l,s){this.j.setTheme(l,s)}getColorMap(){return this.j.getColorMap()}async createGrammar(l,s){const r=this.h.get(l);if(typeof r!="string")throw new Error(e.$BOb);const d=this.c.getGrammarDefinition(r);if(!d)throw new Error(e.$BOb);const o=d.embeddedLanguages;if(this.g[r]){const $=this.g[r];for(const n of $)for(const t of Object.keys(n))o[t]=n[t]}const c=Object.keys(o).length>0;let f;try{f=await this.j.loadGrammarWithConfiguration(r,s,{embeddedLanguages:o,tokenTypes:d.tokenTypes,balancedBracketSelectors:d.balancedBracketSelectors,unbalancedBracketSelectors:d.unbalancedBracketSelectors})}catch($){throw $.message&&$.message.startsWith("No grammar provided for")?new Error(e.$BOb):$}return{languageId:l,grammar:f,initialState:this.b,containsEmbeddedLanguages:c,sourceExtensionId:d.sourceExtensionId}}}e.$COb=y}),define(K[55],X([0,1,11,50,48]),function(q,e,S,b,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMateTokenizationWorker=void 0,e.create=w;function w(s,r){return new l(s,r)}class l{constructor(r,d){this.f=d,this.b=new Map,this.c=[],this.a=r.host;const o=d.grammarDefinitions.map(c=>({location:S.URI.revive(c.location),language:c.language,scopeName:c.scopeName,embeddedLanguages:c.embeddedLanguages,tokenTypes:c.tokenTypes,injectTo:c.injectTo,balancedBracketSelectors:c.balancedBracketSelectors,unbalancedBracketSelectors:c.unbalancedBracketSelectors,sourceExtensionId:c.sourceExtensionId}));this.d=this.g(o)}async g(r){const d=this.f.textmateMainUri,o=await new Promise((t,i)=>{q([d],t,i)}).then(x),c=await new Promise((t,i)=>{q([this.f.onigurumaMainUri],t,i)}).then(x),$=await(await fetch(this.f.onigurumaWASMUri)).arrayBuffer();await c.loadWASM($);const n=Promise.resolve({createOnigScanner:t=>c.createOnigScanner(t),createOnigString:t=>c.createOnigString(t)});return new b.$COb({logTrace:t=>{},logError:(t,i)=>console.error(t,i),readFile:t=>this.a.readFile(t)},r,o,n)}acceptNewModel(r){const d=S.URI.revive(r.uri),o=this;this.b.set(r.controllerId,new y.$DOb(d,r.lines,r.EOL,r.versionId,{async getOrCreateGrammar(c,f){const $=await o.d;return $?(o.c[f]||(o.c[f]=$.createGrammar(c,f)),o.c[f]):Promise.resolve(null)},setTokensAndStates(c,f,$){o.a.setTokensAndStates(r.controllerId,c,f,$)},reportTokenizationTime(c,f,$,n,t){o.a.reportTokenizationTime(c,f,$,n,t)}},r.languageId,r.encodedLanguageId,r.maxTokenizationLineLength))}acceptModelChanged(r,d){this.b.get(r).onEvents(d)}retokenize(r,d,o){this.b.get(r).retokenize(d,o)}acceptModelLanguageChanged(r,d,o){this.b.get(r).onLanguageId(d,o)}acceptRemovedModel(r){const d=this.b.get(r);d&&(d.dispose(),this.b.delete(r))}async acceptTheme(r,d){(await this.d)?.setTheme(r,d)}acceptMaxTokenizationLineLength(r,d){this.b.get(r).acceptMaxTokenizationLineLength(d)}}e.TextMateTokenizationWorker=l})}).call(this);

//# sourceMappingURL=textMateTokenizationWorker.worker.js.map
